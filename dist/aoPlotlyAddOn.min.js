(function(Ga){function Ha(){function Ya(a,b){return"undefined"!==typeof b&&"object"===typeof b&&"undefined"!==typeof b[a]&&"undefined"!==typeof b[a].dictionary&&"object"===typeof b[a].dictionary?b[a].dictionary:{}}function B(a){return"undefined"===typeof Ia[a]?a:Ia[a]}function Ja(a,b,e,d,c){setTimeout(function(){new Date-a>b||e[0]?c():Ja(a,b,e,d,c)},d)}function Za(a,b,e,d){for(var c=new Date,g=Ha,m=d3.queue(b.settings.queueConcurrencyLimit),f=b.dataSources.length,n=0;n<f;n++)m.defer(g,a,n,b);b.settings.displayRecessions&&
(Aa[0]||Ka[0]||m.defer($a,b.settings.newRecessionsUrl,Ba));m.awaitAll(function(f){f||(b.settings.displayRecessions?Aa[0]?(c=new Date,Ja(c,b.settings.maxWaitForGlobalData,Ka,b.settings.flagTestInterval,function(){b.usRecessions=ab(Ba,b.settings.recessionsFillColor,b.settings.recessionsOpacity);La(a,b,e,d)})):(b.usRecessions=ab(Ba,b.settings.recessionsFillColor,b.settings.recessionsOpacity),La(a,b,e,d)):La(a,b,e,d))})}function La(a,b,e,d){var c=new Date;b.settings.waitForGlobalData?(c=new Date,Ja(c,
b.settings.maxWaitForGlobalData,b.settings.dataReadFlag,b.settings.flagTestInterval,function(){"undefined"!==typeof b.settings.globalDataCallback&&"function"===typeof b.settings.globalDataCallback&&b.settings.globalDataCallback();bb(a,b,e,d)})):bb(a,b,e,d)}function bb(a,b,e,d){var c=b.otherDataProperties,g,m=!1,f=0,n=!1;var k=c.length;for(var l=0;l<k;l++)if("undefined"!==typeof c[l].calculate&&"undefined"!==typeof c[l].calculate.type&&"poly"===c[l].calculate.type&&"undefined"!==typeof c[l].calculate.polyFormulation){var h=
c[l].calculate.polyFormulation;"undefined"!==typeof h.argumentsIDs?f=h.argumentsIDs.length:(n=!0,console.log("should pass at least one trace argument to addCalculatedTracesWithFunctions"));var p="undefined"!==typeof c[l].calculate.daysThreshold?c[l].calculate.daysThreshold:0;var v="undefined"!==typeof h.passDate?h.passDate:!1;var u="undefined"!==typeof c[l].calculate.evaluateAllDates?c[l].calculate.evaluateAllDates:!1;if(0<f){var q=[];for(g=0;g<f;g++){var t=ta(h.argumentsIDs[g],c);-1===t&&(n=!0,console.log("traceId not found:",
h.argumentsIDs[g]));q.push(t)}}n||(u?rb(a,q,h.formula,l,p,v):sb(a,q,h.formula,l,p,v),!1===m&&(Ma(a,"xOriginal","yOriginal"),m=!0))}c=b.otherDataProperties;g=c.length;k={};q=m=!1;h={};f=cb(c);for(n=0;n<g;n++)if("undefined"!==typeof c[n].calculate&&"undefined"!==typeof c[n].calculate.type&&"real"===c[n].calculate.type){p=c[n].calculate;t=ta(p.sourceTrace,c);v=!1;if(-1===f||-1===t||"undefined"===typeof a[t].x||"[object Array]"!==Object.prototype.toString.call(a[t].x)||"undefined"===typeof a[t].y||"[object Array]"!==
Object.prototype.toString.call(a[t].y)||0===a[t].x.length)v=!0;if(v)a[n].x=[],a[n].y=[];else{!1===q&&(Ma(a,"xOriginal","yOriginal"),q=!0);m||(m=db(a,k,h,f));v=void 0;l=p;var w=c;u=a;p=ta(l.sourceTrace,w);if("end of trace"===l.factorInformation.date||"beginning of trace"===l.factorInformation.date)v=ta(l.factorInformation.referredDateTraceID,w);l=l.factorInformation.date;v="end of trace"===l?u[v].x[0]:"beggining of trace"===l?u[v].x[u[v].x.length-1]:"[object Date]"===Object.prototype.toString.call(new Date(l))?
isNaN((new Date(l)).getTime())?"undefined":l:"undefined";"undefined"===v&&(v=u[p].x[0]);l=v;fa(l,k,a[f],0);var x;p=a;v=k;u=n;l=Number(v[l]);w=p[t].y.length;var A=[],y=[];A.length=w;y.length=w;for(x=0;x<w;x++)A[x]=p[t].x[x],y[x]=p[t].y[x]*l/Number(v[p[t].x[x]]);p[u].x=A;p[u].y=y}}c=b.otherDataProperties;g=a.length;for(k=0;k<g;k++)if("undefined"===typeof a[k].x||"undefined"===typeof a[k].y)a.splice(k,1),c.splice(k,1);c=a.length;for(g=0;g<c;g++)("undefined"===typeof a[g].x||"undefined"===typeof a[g].y||
1>a[g].x.length||1>a[g].y.length||a[g].x.length!==a[g].y.length)&&a.splice(g,1);b.settings.waitForGlobalData||e||(b.settings.dataReadFlag[0]=!0);if(1>a.length&&e){a=b.divInfo;for(b=a.onErrorHideWholeDiv?a.wholeDivElement:a.plotDivElement;b.hasChildNodes();)b.removeChild(b.lastChild);a.onErrorHideWholeDiv&&(b.style.height=""+(Na(a.plotDivElement.style.height)+40)+"px");b.innerHTML=a.noLoadedDataMessage;a.wholeDivElement.style.visibility="visible";a.loaderElement.style.visibility="hidden"}else e?tb(a,
b):d()}function $a(a,b,e){a={responseType:"arraybuffer",method:"GET",async:!0,url:a};""!==a.url?ub(a,function(a){return function(c,b){return vb(c,a,b)}}(b),e):e(null)}function Ha(a,b,e,d){setTimeout(wb(a,b,e,d),e.settings.queueConcurrencyDelay)}function wb(a,b,e,d){var c=e.dataSources[b].urlType,g=e.dataSources[b].url,m="";"csv"===c?Plotly.d3.csv(g,function(c,g){c?d(null):ea(g)&&X(g,a,e.timeInfo.tracesInitialDate,e.timeInfo.tracesEndDate,e.otherDataProperties,e.dataSources[b],d)}):"arrayOfJsons"===
c?X(e.dataSources[b].arrayOfJsons,a,e.timeInfo.tracesInitialDate,e.timeInfo.tracesEndDate,e.otherDataProperties,e.dataSources[b],d):"yqlJson"===c?Plotly.d3.json(g,function(c,g){c?d(null):"undefined"!==typeof g.query&&"undefined"!==typeof g.query.results&&"undefined"!==typeof g.query.results.json&&"undefined"!==typeof g.query.results.json.observations&&(g=g.query.results.json.observations,ea(g)&&X(g,a,e.timeInfo.tracesInitialDate,e.timeInfo.tracesEndDate,e.otherDataProperties,e.dataSources[b],d))}):
"yqlGoogleCSV"===c?(m="https://query.yahooapis.com/v1/public/yql?q="+encodeURIComponent("SELECT * from csv where url='"+g+"'")+"&format=json",Plotly.d3.json(m,function(c,g){c?d(null):"undefined"!==typeof g.query&&"undefined"!==typeof g.query.results&&"undefined"!==typeof g.query.results.row&&(g=g.query.results.row,ea(g)&&X(g,a,e.timeInfo.tracesInitialDate,e.timeInfo.tracesEndDate,e.otherDataProperties,e.dataSources[b],d))})):"pureJson"===c?Plotly.d3.json(g,function(c,g){c?d(null):ea(g)&&X(g,a,e.timeInfo.tracesInitialDate,
e.timeInfo.tracesEndDate,e.otherDataProperties,e.dataSources[b],d)}):"EiaJson"===c?Plotly.d3.json(g,function(c,g){if(c)d(null);else if("undefined"!==typeof g.series&&(g=g.series,ea(g))){var f=g,l=e.timeInfo.tracesInitialDate,h=e.timeInfo.tracesEndDate,m=e.otherDataProperties,n=e.dataSources[b],u=U(),q=new Date("0001-01-01"),t=new Date("9998-01-01"),w={},x=ua;""!==l&&(q=new Date(x(l,u)));""!==h&&(t=new Date(x(h,u)));if(!(1>n.traces.length)){eb(w,n);u=U();for(var A=f.length,y,r,D=0;D<A;D++){x=f[D];
y=x.data.length;if("M"===x.f)for(x.hasOwnProperty("lastHistoricalPeriod")&&(x.lastHistoricalPeriod=va(x.lastHistoricalPeriod.substr(0,4)+"-"+x.lastHistoricalPeriod.substr(4,2)+"-01 00:00:00.000"+u)),r=0;r<y;r++)x.data[r][0]=va(x.data[r][0].substr(0,4)+"-"+x.data[r][0].substr(4,2)+"-01 00:00:00.000"+u);if("A"===x.f)for(x.hasOwnProperty("lastHistoricalPeriod")&&(x.lastHistoricalPeriod+="-12-31 00:00:00.000"+u),r=0;r<y;r++)x.data[r][0]+="-12-31 00:00:00.000"+u;if("D"===x.f||"W"===x.f)for(x.hasOwnProperty("lastHistoricalPeriod")&&
(x.lastHistoricalPeriod=x.lastHistoricalPeriod.substr(0,4)+"-"+x.lastHistoricalPeriod.substr(4,2)+"-"+x.lastHistoricalPeriod.substr(6,2)+" 00:00:00.000"+u),r=0;r<y;r++)x.data[r][0]=x.data[r][0].substr(0,4)+"-"+x.data[r][0].substr(4,2)+"-"+x.data[r][0].substr(6,2)+" 00:00:00.000"+u}u=q;x=t;y="full";r="";var L;for(L in w)if(w.hasOwnProperty(L)){A=L;D=parseInt(L.substr(1));var G=n.traces[D];var C=G.seriesIndex;var K=f[C].data.length;D=[];D.length=K;G.hasOwnProperty("traceType")?("historical"===G.traceType&&
(y="historical",r=f[C].lastHistoricalPeriod),"forecast"===G.traceType&&(y="forecast",r=f[C].lastHistoricalPeriod)):y="full";if("first"===w[L].firstItemToRead){var F=0;var B=1}else F=K-1,B=-1;var N=0;var I=w[L].yNames.length;var z=w[L].yNames;for(G=0;G<K;G++){var E=f[C].data[F][0];if(""!==E&&null!==E&&new Date(E)>=u&&new Date(E)<=x&&("full"===y||"historical"===y&&E<=r||"forecast"===y&&E>=r)){D[N]={};D[N][A]=E;for(E=0;E<I;E++){var J=z[E];var H=w[L].yNames.indexOf(J);H!=E&&console.log("j is not equalt to indexOfYSeriesName");
if(null===f[C].data[F][1])D[N][J]="NaN";else{H=w[L].factorArray[E];var M=w[L].shiftArray[E];D[N][J]=f[C].data[F][1]*H+M}}N++}F+=B}D.length=N;w[L].allRows=D}Oa(n,w,m,a,q,l,t,h,d)}}}):"WBJson"===c?Plotly.d3.json(g,function(c,g){if(c)console.log("Plotly.d3.json returned error reading WBData",b),d(null);else{var f=Array.isArray(g)&&1<g.length&&"undefined"===typeof g[0].message&&0!==g[0].page?!1:!0;if(f)console.log("World Bank data not read properly on WBJson:",b),d(null);else{g.shift();f=g.length;for(var l=
0;l<f;l++)g[l]={data:g[l]};if(ea(g)){f=e.timeInfo.tracesInitialDate;l=e.timeInfo.tracesEndDate;var h=e.otherDataProperties,m=e.dataSources[b],n=U(),u=new Date("0001-01-01"),q=new Date("9998-01-01"),t={},w=ua;""!==f&&(u=new Date(w(f,n)));""!==l&&(q=new Date(w(l,n)));if(!(1>m.traces.length)){eb(t,m);n=U();for(var x=g.length,A,y,r,D=0;D<x;D++){w=g[D];A=w.data.length;for(r=0;r<A;r++)y=w.data[r].date,-1===y.search(/f/i)&&(w.lastHistoricalPeriod=fb(y,n),r=A);for(r=0;r<A;r++)w.data[r].date=fb(w.data[r].date,
n)}n=u;w=q;A="full";y="";var L;for(L in t)if(t.hasOwnProperty(L)){x=L;r=parseInt(L.substr(1));var G=m.traces[r];var C=G.seriesIndex;D=g[C].data.length;r=[];r.length=D;G.hasOwnProperty("traceType")?("historical"===G.traceType&&(A="historical",y=g[C].lastHistoricalPeriod),"forecast"===G.traceType&&(A="forecast",y=g[C].lastHistoricalPeriod)):A="full";if("first"===t[L].firstItemToRead){var K=0;var F=1}else K=D-1,F=-1;var B=0;var N=t[L].yNames.length;var I=t[L].yNames;for(G=0;G<D;G++){var z=g[C].data[K].date;
if(""!==z&&null!==z&&new Date(z)>=n&&new Date(z)<=w&&("full"===A||"historical"===A&&z<=y||"forecast"===A&&z>=y)){r[B]={};r[B][x]=z;for(z=0;z<N;z++){var E=I[z];var J=t[L].yNames.indexOf(E);J!=z&&console.log("j is not equal to indexOfYSeriesName");J=t[L].factorArray[z];var H=t[L].shiftArray[z];r[B][E]=g[C].data[K].value*J+H}B++}K+=F}r.length=B;t[L].allRows=r}Oa(m,t,h,a,u,f,q,l,d)}}}}}):"fredJson"===c&&Plotly.d3.json(g,function(c,g){c?d(null):"undefined"!==typeof g.observations&&(g=g.observations,ea(g)&&
X(g,a,e.timeInfo.tracesInitialDate,e.timeInfo.tracesEndDate,e.otherDataProperties,e.dataSources[b],d))})}function ea(a){return Array.isArray(a)&&0<a.length?!0:!1}function X(a,b,e,d,c,g,m){var f=g.urlType,n="undefined"!==typeof a[0]?a[0]:{},k=new Date("0001-01-01"),l=new Date("9998-01-01"),h=U(),p={},v=ua;if("yqlGoogleCSV"===f)if(1<a.length){var u,q=g.traces.length,t=0;if("undefined"!==typeof g.xSeriesName)for(w in n)n.hasOwnProperty(w)&&n[w].toString().trim()===g.xSeriesName.toString()&&(g.xSeriesName=
w);for(u=0;u<q;u++)for(w in n)n.hasOwnProperty(w)&&(n[w].toString().trim()===g.traces[u].xSeriesName.toString()&&(t++,g.traces[u].xSeriesName=w),n[w].toString().trim()===g.traces[u].ySeriesName.toString()&&(t++,g.traces[u].ySeriesName=w));if(t!==q+q)return!1;a.shift()}else return!1;""!==e&&(k=new Date(v(e,h)));""!==d&&(l=new Date(v(d,h)));n=g.traces;h=n.length;v=a[0];for(u=0;u<h;u++)if("undefined"===typeof v[n[u].xSeriesName]||"undefined"===typeof v[n[u].ySeriesName])n.splice(u,1),h--;if(1>g.traces.length)return!1;
n=g.traces;u=n.length;for(q=0;q<u;q++)h=n[q].xSeriesName,v=n[q].ySeriesName,p.hasOwnProperty(h)||(p[h]={},p[h].yNames=[],p[h].yCalculateAdjustedClose=[],p[h].factorArray=[],p[h].shiftArray=[]),-1===p[h].yNames.indexOf(v)&&(p[h].yNames.push(v),"undefined"!==typeof g.calculateAdjustedClose?p[h].yCalculateAdjustedClose.push(g.calculateAdjustedClose):"undefined"!==typeof n[q].calculateAdjustedClose?p[h].yCalculateAdjustedClose.push(n[q].calculateAdjustedClose):p[h].yCalculateAdjustedClose.push(!1),"undefined"!==
typeof n[q].factor?p[h].factorArray.push(n[q].factor):p[h].factorArray.push(1),"undefined"!==typeof n[q].shift?p[h].shiftArray.push(n[q].shift):p[h].shiftArray.push(0)),"undefined"!==typeof g.sort&&(p[h].sort=g.sort),"undefined"!==typeof g.xDateSuffix&&(p[h].xDateSuffix=g.xDateSuffix),"undefined"!==typeof g.firstItemToRead&&(p[h].firstItemToRead=g.firstItemToRead),"undefined"!==typeof g.processDates&&(p[h].processDates=g.processDates),"undefined"!==typeof g.postProcessDate&&(p[h].postProcessDate=
g.postProcessDate),"undefined"!==typeof g.onlyAddXDateSuffix&&(p[h].onlyAddXDateSuffix=g.onlyAddXDateSuffix),"undefined"!==typeof n[q].sort?p[h].sort=n[q].sort:"undefined"===typeof p[h].sort&&(p[h].sort=!1),"undefined"!==typeof n[q].xDateSuffix?p[h].xDateSuffix=n[q].xDateSuffix:"undefined"===typeof p[h].xDateSuffix&&(p[h].xDateSuffix=""),"undefined"!==typeof n[q].firstItemToRead?p[h].firstItemToRead=n[q].firstItemToRead:"undefined"===typeof p[h].firstItemToRead&&(p[h].firstItemToRead="first"),"undefined"!==
typeof n[q].processDates?p[h].processDates=n[q].processDates:"undefined"===typeof p[h].processDates&&(p[h].processDates=!0),"undefined"!==typeof n[q].postProcessDate&&(p[h].postProcessDate=n[q].postProcessDate),"undefined"!==typeof n[q].onlyAddXDateSuffix&&(p[h].onlyAddXDateSuffix=n[q].onlyAddXDateSuffix);n=a.length;h=U();v=!1;u=ua;q=va;var w=xb;"yqlGoogleCSV"===f&&(v=!0);for(var x in p)if(p.hasOwnProperty(x)&&p[x].processDates){f=x;t=p[x].xDateSuffix;var A="undefined"!==typeof p[x].onlyAddXDateSuffix?
p[x].onlyAddXDateSuffix:!1;var y=!1;"undefined"!==typeof p[x].postProcessDate&&"end of month"===p[x].postProcessDate&&(y=!0);if(v)for(y=0;y<n;y++)""!==a[y][f]&&null!==a[y][f]&&(a[y][f]=u(""+w(a[y][f])+t,h));else if(y)for(y=0;y<n;y++)""!==a[y][f]&&null!==a[y][f]&&(A=u(""+a[y][f]+t,h),A=q(A),a[y][f]=A);else if(A)for(y=0;y<n;y++)""!==a[y][f]&&null!==a[y][f]&&(a[y][f]+=A);else for(y=0;y<n;y++)""!==a[y][f]&&null!==a[y][f]&&(a[y][f]=u(""+a[y][f]+t,h))}x=k;f=l;v=a.length;var r;for(r in p)if(p.hasOwnProperty(r)){y=
r;n=[];n.length=v;"first"===p[r].firstItemToRead?(w=0,t=1):(w=v-1,t=-1);q=0;u=p[r].yNames.length;A=p[r].yNames;for(h=0;h<v;h++){var D=a[w][y];if(""!==D&&null!==D&&new Date(D)>=x&&new Date(D)<=f){n[q]={};n[q][y]=D;for(D=0;D<u;D++){var L=A[D];var G=p[r].yNames.indexOf(L);G!=D&&console.log("j is not equalt to indexOfYSeriesName");G=p[r].factorArray[D];var C=p[r].shiftArray[D];n[q][L]=a[w][L]*G+C}q++}w+=t}n.length=q;p[r].allRows=n}for(var B in p)p.hasOwnProperty(B)&&p[B].sort&&p[B].allRows.sort(yb(B));
Oa(g,p,c,b,k,e,l,d,m)}function fb(a,b){a=a.replace(/f/i,"");if(-1!==a.search(/m/i))return va(a.substr(0,4)+"-"+a.substr(5,2)+"-01 00:00:00.000"+b);if(-1!==a.search(/q/i)){var e=a.substr(0,4)+"-",d=a.substr(5,2);return va(e+("1"===d?"03":"2"===d?"06":"3"===d?"09":"12")+"-01 00:00:00.000"+b)}return a+("-12-31 00:00:00.000"+b)}function Oa(a,b,e,d,c,g,m,f,n){var k,l,h,p=0,v=[],u=ta,q=zb,t=Ab,w=Bb;var x=a.traces.length;for(k=0;k<x;k++){var A=a.traces[k].xSeriesName;var y=a.traces[k].ySeriesName;var r=
a.traces[k].traceID;var D=l=b[A].allRows;var B=y;var G=D.length;for(h=0;h<G;h++)if("."===D[h][B]||isNaN(D[h][B])||null===D[h][B])isNaN(D[h][B]),D.splice(h,1),G--;h=l.length;r=u(r,e);G=!1;"undefined"!==typeof d[r].x&&(G=!0);D=[];D.length=h;B=[];B.length=h;h=0===l.length?0:l.length-1;var C=l.length;var K=new Date(l[0][A]);var F=new Date(l[h][A]);h="none";var H=1;var N=b[A].yNames.indexOf(y);N=b[A].yCalculateAdjustedClose[N];if(G){G=0;var I=C+0;var z=new Date(d[r].x[d[r].x.length-1]);var E=new Date(d[r].x[0]);
var J=d[r].y[d[r].x.length-1];var Q=d[r].y[0];if(F>E){p=0;var M=C}else if(K<z)G=d[r].x.length,p=0,M=C;else if(K>E)for(C=p=0;C<I;C++)new Date(l[C][A])<=E&&(M=C-0,N&&(h="existing",H=l[C][y]/Q),C=I);else if(F<z)for(C=I-1;-1<C;C--)new Date(l[C][A])>=z&&(p=C+1,M=I-p,G=d[r].x.length,N&&(h="new",H=J/l[C][y]),C=-1);else if(G=q(l,A,0,C,d[r].x),p=G.initialIndex,M=G.traceLength,G=G.insertPoint,N)a:{h="new",K=d[r];0<p?(F=new Date(l[p-1][A]),z=l[p-1][y]):(F=new Date(l[p][A]),z=l[p][y]);H=K.x.length;for(C=0<G?
G-1:G;C<H;C++)if(I=new Date(K.x[C]),I>=F){H=K.y[C]/z;break a}H=1}if(N&&"none"!==h&&1!==H)if("new"===h)for(h=l.length,C=0;C<h;C++)l[C][y]*=H;else if("existing"===h)for(h=d[r].y.length,C=0;C<h;C++)d[r].y[C]*=H}else p=0,M=C,G=0;H=0;N=M;h=0;for(C=p;h<N;C++,h++)if(K=l[C][A],""===g||new Date(K)>=c){if(""===f||new Date(K)<=m)D[h]=K,B[h]=l[C][y],H++}else h=N;D.length>H&&(D.length=H,B.length=H);if("undefined"===typeof d[r].x||"undefined"===typeof d[r].y)d[r].x=[],d[r].y=[];0<H&&(0===G?0<d[r].x.length?(d[r].x=
t(D,d[r].x),d[r].y=t(B,d[r].y)):(d[r].x=D,d[r].y=B):G===d[r].x.length?(d[r].x=t(d[r].x,D),d[r].y=t(d[r].y,B)):(d[r].x=w(D,G,d[r].x),d[r].y=w(B,G,d[r].y)));-1===v.indexOf(A)&&v.push(A)}n(null)}function sb(a,b,e,d,c,g){var m=[],f=[],n=[],k=[],l,h,p,v=[],u=[],q=864E5*c;var t=!1;c=b.length;m.length=c;f.length=c;n.length=c;k.length=g?c+1:c;for(h=0;h<c;h++)if("undefined"===typeof a[b[h]].x||"[object Array]"!==Object.prototype.toString.call(a[b[h]].x)||"undefined"===typeof a[b[h]].y||"[object Array]"!==
Object.prototype.toString.call(a[b[h]].y))t=!0;if(t)a[d].x=[],a[d].y=[];else{for(h=0;h<c;h++)m[h]=a[b[h]].x.length,f[h]=0,n[h]=!1;t=b[0];var w=a[t].x.length;for(l=0;l<w;l++)if(f[0]=l,1<c){var x=new Date(a[t].x[l]);for(h=1;h<c;h++)n[h]=!1;for(h=1;h<c;h++){var A=Math.abs(x-new Date(a[b[h]].x[f[h]]));A<=q&&(n[h]=!0);if(0<A){var y=m[h];for(p=f[h];p<y;p++){var r=Math.abs(x-new Date(a[b[h]].x[p]));r<A&&(r<=q&&(n[h]=!0),A=r,f[h]=p);0===r&&(p=y);r>A&&(p=y)}}}p=!0;for(h=1;h<c;h++)!1===n[h]&&(p=!1);if(p){if(g)for(k[0]=
x,h=0;h<c;h++)k[h+1]=a[b[h]].y[f[h]];else for(h=0;h<c;h++)k[h]=a[b[h]].y[f[h]];h=e.apply(this,k);isNaN(h)||(v.push(a[b[0]].x[f[0]]),u.push(h))}}else k[0]=a[b[0]].y[f[0]],h=e.apply(this,k),isNaN(h)||(v.push(a[b[0]].x[f[0]]),u.push(h));a[d].x=v;a[d].y=u}}function rb(a,b,e,d,c,g){var m=[],f,n=[],k=[],l=864E5*c;var h=!1;c=b.length;m.length=g?c+1:c;for(f=0;f<c;f++)if("undefined"===typeof a[b[f]].x||"[object Array]"!==Object.prototype.toString.call(a[b[f]].x)||"undefined"===typeof a[b[f]].y||"[object Array]"!==
Object.prototype.toString.call(a[b[f]].y))h=!0;if(h)a[d].x=[],a[d].y=[];else{var p={};for(f=0;f<c;f++){var v=b[f];var u=a[v].x.length;for(h=0;h<u;h++)"undefined"===typeof p[a[v].x[h]]&&(p[a[v].x[h]]=[],p[a[v].x[h]].length=c),p[a[v].x[h]][f]=h}var q=[],t;for(t in p)p.hasOwnProperty(t)&&q.push([t]);u=q.length-1;v=q.length;for(h=0;h<u;h++)if(1===q[h].length){var w=new Date(q[h][0]);for(f=h+h;f<v;f++)if(1===q[f].length){var x=Math.abs(w-new Date(q[f][0]));x<=l&&(q[h].push(q[f][0]),q[f].splice(0,1))}}l=
{};u=q.length;for(h=0;h<u;h++)if(0<q[h].length)for(v=q[h].length,x=q[h][0],"undefined"===typeof l[x]&&(l[x]=[],l[x].length=c),f=0;f<v;f++)for(w=0;w<c;w++)"undefined"===typeof l[x][w]&&"undefined"!==typeof p[q[h][f]][w]&&(l[x][w]=p[q[h][f]][w]);for(t in l)if(l.hasOwnProperty(t)){if(g)for(m[0]=t,f=0;f<c;f++)m[f+1]=a[b[f]].y[l[t][f]];else for(f=0;f<c;f++)m[f]=a[b[f]].y[l[t][f]];f=e.apply(this,m);isNaN(f)||(n.push(t),k.push(f))}a[d].x=n;a[d].y=k}}function tb(a,b){var e="2000-01-01",d="2001-01-01",c=[],
g=0,m=1,f={},n={},k={},l={},h={},p=[],v={},u=!1,q=0,t=!1,w=!1,x={yaxis:{type:"",hoverformat:""}},A=!1,y=!1,r=!1,D=!1,L,G,C;f=b.settings;n=b.options;k=b.layout;l=b.timeInfo;h=b.divInfo;p=b.otherDataProperties;x.yaxis.hoverformat=k.yaxis.hoverformat;x.yaxis.type=k.yaxis.type;"undefined"!==typeof k.yaxis.tickformat&&(x.yaxis.tickformat=k.yaxis.tickformat);Ma(a,"xOriginal","yOriginal");var K="460px";if(f.allowCompare||f.allowLogLinear||f.allosFrequencyResampling)K="480px";var F=document.getElementById(h.plotlyDivID),
da=h.plotDivElement.style.height,N=h.plotDivElement.style.width;h.plotDivElement.style.width=""===N?"100%":N;h.plotDivElement.style.height=""===da?K:da;F.style.width=h.plotDivElement.style.width;f.allowCompare||f.allowLogLinear||f.allowDownload?(h.footerDivElement.style.width=F.style.width,h.footerDivElement.style.height="23px",F.style.height=""+(Na(h.plotDivElement.style.height)-Na(h.footerDivElement.style.height))+"px"):F.style.height=h.plotDivElement.style.height;var I=f.series.baseFrequency,z=
f.series.baseAggregation,E="1000-01-01",J="1000-01-01",S=Pa(a);E=S.min;J=S.max;f.displayRecessions&&(k.shapes=Cb(b.usRecessions,E,J));l=Db(E,J,l);var M=l[0],ba=l[1];k.xaxis.range=[M,ba];var ea=jQuery(F).width(),P=ea;Eb(k,15,35);var U=document.createElement("canvas"),W=f.textAndSpaceToTextRatio,X=k.xaxis.tickfont.family,Y=k.xaxis.tickfont.size,Z=k.margin.l,aa=k.margin.r,R=H.getTicktextAndTickvals(M,ba,W,I,X,Y,P,Z,aa,U);k.xaxis.ticktext=R.ticktext;k.xaxis.tickvals=R.tickvals;var V=M;l=[];f.allowFrequencyResampling&&
(Fb(b.frequencyUpdateMenu,l,k),y||(Gb(a,f.periodKeys,f.endOfWeek),y=!0,Hb(a,f.periodKeys)));f.allowLogLinear&&h.logLinearButtonElement.addEventListener("click",function(){Plotly.relayout(h.plotlyDivElement,{changeYaxisTypeToLog:"log"===k.yaxis.type?!1:!0})},!1);f.allowRealNominal&&h.realNominalButtonElement.addEventListener("click",function(){Plotly.relayout(h.plotlyDivElement,{transformToReal:w?!1:!0})},!1);var la=cb(p);db(a,v,f.periodKeys,la);w="undefined"!==typeof f.initialRealNominal?"real"===
f.initialRealNominal?!0:!1:!1;var O="",ca="";w&&(O=pa(f.baseRealDate,k.xaxis.range[0],k.xaxis.range[1],E,J),fa(O,v,a[la],0),D=Ib(D,a,v,O,p));(t=f.transformToBaseIndex)&&(r=wa(r,a,V,f.allowCompare,k,f.series.baseAggregation));f.allowCompare&&h.compareButtonElement.addEventListener("click",function(){Plotly.relayout(h.plotlyDivElement,{compare:t?!1:!0})},!1);ma(k,a,f.numberOfIntervalsInYAxis,f.possibleYTickMultiples,f.rangeProportion);if(f.allowFrequencyResampling){var na=Qa(P,k,f.widthOfRightItemsFrequencyButtons);
!0===k.updatemenus[T(k.updatemenus,"aggregation")].visible?(xa(na,k.updatemenus,"frequencies"),xa(ha(P,k),k.updatemenus,"aggregation")):xa(ha(P,k),k.updatemenus,"frequencies")}f.allowSelectorOptions&&(k.xaxis.rangeselector=b.selectorOptions,Jb(P,k));Plotly.newPlot(F,a,k,n).then(function(){b.divInfo.wholeDivElement.style.visibility="visible";b.divInfo.loaderElement.style.visibility="hidden"});Ga.addEventListener("resize",function(){Plotly.Plots.resize(F)});var ia=[];F.on("plotly_relayout",function(b){if(!0===
b.autosize)P=jQuery(F).width(),P!=ea&&(ea=P,ia={},f.allowFrequencyResampling&&(na=Qa(P,k,f.widthOfRightItemsFrequencyButtons),L=ha(P,k),G=T(k.updatemenus,"frequencies"),C=T(k.updatemenus,"aggregation"),k.updatemenus[C].visible?(ia["updatemenus["+G+"].x"]=na,ia["updatemenus["+C+"].x"]=L):ia["updatemenus["+G+"].x"]=L),f.allowSelectorOptions&&(na=ha(P,k),ia["xaxis.rangeselector.x"]=na),R=H.getTicktextAndTickvals(M,ba,W,I,X,Y,P,Z,aa,U),ia["xaxis.tickvals"]=R.tickvals,ia["xaxis.ticktext"]=R.ticktext,Plotly.relayout(F,
ia));else if("undefined"!==typeof b.myFrequency){if(u=!1,b.myFrequency!==I){if(!1===u&&I===f.series.baseFrequency&&"normal"===f.series.baseFrequencyType&&b.myFrequency!==f.series.baseFrequency&&z===f.series.baseAggregation&&"normal"===f.series.baseAggregationType||I!==f.series.baseFrequency&&b.myFrequency!==f.series.baseFrequency)u=!0,oa(a,f.period[b.myFrequency],z);!1===u&&I===f.series.baseFrequency&&"normal"===f.series.baseFrequencyType&&b.myFrequency!==f.series.baseFrequency&&z===f.series.baseAggregation&&
"normal"!==f.series.baseAggregationType&&(u=!0,z="close",oa(a,f.period[b.myFrequency],z),q=T(k.updatemenus,"aggregation"),k.updatemenus[q].buttons=f.baseAggregationButtons,k.updatemenus[q].showactive=!0,k.updatemenus[q].active=ja(z,k.updatemenus[q].buttons));!1===u&&I===f.series.baseFrequency&&"normal"!==f.series.baseFrequencyType&&b.myFrequency!==f.series.baseFrequency&&"normal"===f.series.baseAggregationType&&(u=!0,oa(a,f.period[b.myFrequency],z),q=T(k.updatemenus,"aggregation"),k.updatemenus[q].buttons=
f.baseAggregationButtons,k.updatemenus[q].active=ja(z,k.updatemenus[q].buttons),k.updatemenus[q].visible=!0,k.updatemenus[q].type="dropdown",k.updatemenus[q].showactive=!0);!1===u&&I===f.series.baseFrequency&&"normal"!==f.series.baseFrequencyType&&b.myFrequency!==f.series.baseFrequency&&"normal"!==f.series.baseAggregationType&&(u=!0,z="close",q=T(k.updatemenus,"aggregation"),k.updatemenus[q].buttons=f.baseAggregationButtons,k.updatemenus[q].showactive=!0,k.updatemenus[q].active=ja(z,k.updatemenus[q].buttons),
k.updatemenus[q].visible=!0,k.updatemenus[q].type="dropdown","not available"===f.series.baseAggregationType&&(na=Qa(P,k,f.widthOfRightItemsFrequencyButtons),q=T(k.updatemenus,"frequencies"),k.updatemenus[q].x=na,q=T(k.updatemenus,"aggregation"),k.updatemenus[q].x=ha(P,k)),oa(a,f.period[b.myFrequency],z));!1===u&&I!==f.series.baseFrequency&&b.myFrequency===f.series.baseFrequency&&"normal"!==f.series.baseFrequencyType&&"not available"===f.series.baseAggregationType&&(u=!0,z=f.series.baseAggregation,
q=T(k.updatemenus,"aggregation"),k.updatemenus[q].visible=!1,xa(ha(P,k),k.updatemenus,"frequencies"),Ca(a,"xOriginal","yOriginal"),Da(k,x,h,f),t!==f.transformToBaseIndex&&(t=f.transformToBaseIndex,f.allowCompare&&qa(t,h.compareButtonElement)),k.yaxis.hoverformat=x.yaxis.hoverformat,"undefined"!==typeof k.yaxis.tickformat&&"undefined"===typeof x.yaxis.tickformat?delete k.yaxis.tickformat:"undefined"!==typeof x.yaxis.tickformat&&(k.yaxis.tickformat=x.yaxis.tickformat));!1===u&&I!==f.series.baseFrequency&&
b.myFrequency===f.series.baseFrequency&&"normal"!==f.series.baseFrequencyType&&"not available"!==f.series.baseAggregationType&&(u=!0,z=f.series.baseAggregation,q=T(k.updatemenus,"aggregation"),k.updatemenus[q].buttons=f.singleAggregationButton,k.updatemenus[q].active=0,k.updatemenus[q].visible=!0,k.updatemenus[q].type="buttons",k.updatemenus[q].showactive=!1,Ca(a,"xOriginal","yOriginal"),Da(k,x,h,f),t!==f.transformToBaseIndex&&(t=f.transformToBaseIndex,f.allowCompare&&qa(t,h.compareButtonElement)),
k.yaxis.hoverformat=x.yaxis.hoverformat,"undefined"!==typeof k.yaxis.tickformat&&"undefined"===typeof x.yaxis.tickformat?delete k.yaxis.tickformat:"undefined"!==typeof x.yaxis.tickformat&&(k.yaxis.tickformat=x.yaxis.tickformat));!1===u&&I!==f.series.baseFrequency&&b.myFrequency===f.series.baseFrequency&&"normal"===f.series.baseFrequencyType&&z===f.series.baseAggregation&&(u=!0,Ca(a,"xOriginal","yOriginal"),"normal"!==f.series.baseAggregationType&&(z=f.series.baseAggregation,Da(k,x,h,f),t!==f.transformToBaseIndex&&
(t=f.transformToBaseIndex,f.allowCompare&&qa(t,h.compareButtonElement)),"not available"===f.series.baseAggregationType&&(q=T(k.updatemenus,"aggregation"),k.updatemenus[q].visible=!1,xa(ha(P,k),k.updatemenus,"frequencies")),"custom"===f.series.baseAggregationType&&(q=T(k.updatemenus,"aggregation"),k.updatemenus[q].active=0,k.updatemenus[q].visible=!0,k.updatemenus[q].buttons=f.singleAggregationButton,k.updatemenus[q].type="buttons",k.updatemenus[q].showactive=!1)));!1===u&&I!==f.series.baseFrequency&&
b.myFrequency===f.series.baseFrequency&&"normal"===f.series.baseFrequencyType&&z!==f.series.baseAggregation&&(u=!0,oa(a,f.period[b.myFrequency],z),"custom"===f.series.baseAggregationType&&(q=T(k.updatemenus,"aggregation"),k.updatemenus[q].buttons=f.combinedAggregationButtons,k.updatemenus[q].showactive=!0,k.updatemenus[q].active=ja(z,k.updatemenus[q].buttons)),"normal"!==f.series.baseAggregationType&&(q=T(k.updatemenus,"aggregation"),k.updatemenus[q].buttons=f.combinedAggregationButtons,k.updatemenus[q].showactive=
!0,k.updatemenus[q].active=ja(z,k.updatemenus[q].buttons)));!1===u&&I===f.series.baseFrequency&&"normal"===f.series.baseFrequencyType&&b.myFrequency!==f.series.baseFrequency&&z!==f.series.baseAggregation&&(u=!0,oa(a,f.period[b.myFrequency],z),q=T(k.updatemenus,"aggregation"),k.updatemenus[q].buttons=f.baseAggregationButtons,k.updatemenus[q].showactive=!0,k.updatemenus[q].active=ja(z,k.updatemenus[q].buttons));u&&(I=b.myFrequency,r=!1,S=Pa(a),E=S.min,J=S.max,gb(M,ba,E,J,k.xaxis.range),R=H.getTicktextAndTickvals(M,
ba,W,I,X,Y,P,Z,aa,U),k.xaxis.tickvals=R.tickvals,k.xaxis.ticktext=R.ticktext,ka(a,"nominal"),D=!0,w&&(ca=pa(f.baseRealDate,k.xaxis.range[0],k.xaxis.range[1],E,J),ca!==O&&(O=ca,fa(O,v,a[la],0)),ra(a,v,O,p)),t&&(V<M&&(V=M),r=wa(r,a,V,f.allowCompare,k,z)),ma(k,a,f.numberOfIntervalsInYAxis,f.possibleYTickMultiples,f.rangeProportion),f.updatemenus=k.updatemenus,Plotly.relayout(F,{updatemenus:[{}]}),k.updatemenus=f.updatemenus,Plotly.redraw(F))}}else if("undefined"!==typeof b.myAggregation){if(u=!1,b.myAggregation!==
z){I===f.series.baseFrequency&&"normal"===f.series.baseFrequencyType&&b.myAggregation===f.series.baseAggregation&&(u=!0,Ca(a,"xOriginal","yOriginal"));if(I===f.series.baseFrequency&&"normal"===f.series.baseFrequencyType&&b.myAggregation!==f.series.baseAggregation||I!==f.series.baseFrequency&&b.myAggregation!==f.series.baseAggregation||I!==f.series.baseFrequency&&b.myAggregation===f.series.baseAggregation&&"normal"===f.series.baseAggregationType)u=!0,oa(a,f.period[I],b.myAggregation);if(u){r=!1;k.yaxis.hoverformat=
x.yaxis.hoverformat;"undefined"!==typeof k.yaxis.tickformat&&"undefined"===typeof x.yaxis.tickformat?delete k.yaxis.tickformat:"undefined"!==typeof x.yaxis.tickformat&&(k.yaxis.tickformat=x.yaxis.tickformat);ka(a,"nominal");D=!0;w&&(ca=pa(f.baseRealDate,k.xaxis.range[0],k.xaxis.range[1],E,J),ca!==O&&(O=ca,fa(O,v,a[la],0)),ra(a,v,O,p));if("percChange"===b.myAggregation||"sqrPercChange"===b.myAggregation)t=!1,f.allowCompare&&qa(t,h.compareButtonElement),k.yaxis.tickformat=".2p",k.yaxis.hoverformat=
".3p";"percChange"!==z&&"sqrPercChange"!==z||"percChange"===b.myAggregation||"sqrPercChange"===b.myAggregation||t===f.transformToBaseIndex||(t=f.transformToBaseIndex,f.allowCompare&&qa(t,h.compareButtonElement));"percChange"!==b.myAggregation&&"sqrPercChange"!==b.myAggregation&&"change"!==b.myAggregation||"log"!==k.yaxis.type||(k.yaxis.type="linear",f.allowLogLinear&&Ea(!1,h.logLinearButtonElement));"percChange"!==z&&"sqrPercChange"!==z&&"change"!==z||"percChange"===b.myAggregation||"sqrPercChange"===
b.myAggregation||"change"===b.myAggregation||Da(k,x,h,f);z=b.myAggregation;S=Pa(a);E=S.min;J=S.max;gb(M,ba,E,J,k.xaxis.range);R=H.getTicktextAndTickvals(M,ba,W,I,X,Y,P,Z,aa,U);k.xaxis.tickvals=R.tickvals;k.xaxis.ticktext=R.ticktext;t&&(V<M&&(V=M),r=wa(r,a,V,f.allowCompare,k,z));ma(k,a,f.numberOfIntervalsInYAxis,f.possibleYTickMultiples,f.rangeProportion);f.updatemenus=k.updatemenus;Plotly.relayout(F,{updatemenus:[{}]});k.updatemenus=f.updatemenus;Plotly.redraw(F)}}}else if("undefined"!==typeof b.changeYaxisTypeToLog)!1===
b.changeYaxisTypeToLog&&(h.logLinearButtonElement.blur(),"log"===k.yaxis.type&&(A||(k.yaxis.type="linear",Ea(!1,h.logLinearButtonElement),k.yaxis.type="linear",ma(k,a,f.numberOfIntervalsInYAxis,f.possibleYTickMultiples,f.rangeProportion),Plotly.redraw(F).then(function(){A=!1})),A=!0)),!0===b.changeYaxisTypeToLog&&(h.logLinearButtonElement.blur(),"linear"===k.yaxis.type&&"percChange"!==z&&"sqrPercChange"!==z&&"change"!==z&&(A||(k.yaxis.type="log",Ea(!0,h.logLinearButtonElement),ma(k,a,f.numberOfIntervalsInYAxis,
f.possibleYTickMultiples,f.rangeProportion),Plotly.redraw(F).then(function(){A=!1})),A=!0));else if("undefined"!==typeof b.compare)h.compareButtonElement.blur(),b.compare!==t&&"percChange"!==z&&"sqrPercChange"!==z&&(A||(t=!t,qa(b.compare,h.compareButtonElement),t?(D||w||(ka(a,"nominal"),D=!0),V=Q(k.xaxis.range[0]),r=wa(r,a,V,f.allowCompare,k,z)):ya(a,"uncompared"),k.yaxis.autorange||ma(k,a,f.numberOfIntervalsInYAxis,f.possibleYTickMultiples,f.rangeProportion),Plotly.redraw(F).then(function(){A=!1})),
A=!0);else if("undefined"!==typeof b.transformToReal)h.realNominalButtonElement.blur(),b.transformToReal!==w&&(A||(w=!w,h.realNominalButtonElement.textContent=b.transformToReal?B("real"):B("nominal"),w?(""===O&&(O=pa(f.baseRealDate,k.xaxis.range[0],k.xaxis.range[1],E,J),fa(O,v,a[la],0)),t||D||(ka(a,"nominal"),D=!0),t&&ya(a,"nominal"),ra(a,v,O,p)):ya(a,"nominal"),t&&(r=!1,r=wa(r,a,V,f.allowCompare,k,z)),k.yaxis.autorange||ma(k,a,f.numberOfIntervalsInYAxis,f.possibleYTickMultiples,f.rangeProportion),
Plotly.redraw(F).then(function(){A=!1})),A=!0);else if("undefined"!==typeof b.download)h.downloadButtonElement.blur(),Kb(f.xAxisNameOnCSV,a,f.downloadedFileName);else if(!0===b["xaxis.autorange"]){if(k.xaxis.range[0]=Q(k.xaxis.range[0]),k.xaxis.range[1]=Q(k.xaxis.range[1]),k.xaxis.range[0]!==M||k.xaxis.range[1]!==ba)A||(M=Q(k.xaxis.range[0]),ba=Q(k.xaxis.range[1]),R=H.getTicktextAndTickvals(M,ba,W,I,X,Y,P,Z,aa,U),u=!1,w&&(ya(a,"nominal"),ca=pa(f.baseRealDate,k.xaxis.range[0],k.xaxis.range[1],E,J),
ca!==O&&(O=ca,fa(O,v,a[la],0)),ra(a,v,O,p),t&&(u=!0,ka(a,"uncompared"))),(t&&V!==Q(k.xaxis.range[0])||u)&&Ra(a,Q(k.xaxis.range[0]),z),V=Q(k.xaxis.range[0]),c=Sa(Q(k.xaxis.range[0]),Q(k.xaxis.range[1]),a),g=c[0],m=c[1],isNaN(g)||isNaN(m)||(k.yaxis.autorange=!1,k.yaxis.range=hb("log"===k.yaxis.type?"log":"linear",g,m,f.numberOfIntervalsInYAxis,f.possibleYTickMultiples,f.rangeProportion)),k.xaxis.tickvals=R.tickvals,k.xaxis.ticktext=R.ticktext,Lb("step","all",k.xaxis.rangeselector.buttons),Plotly.redraw(F).then(function(){A=
!1})),A=!0}else u=!1,"undefined"!==typeof b["xaxis.range[0]"]||"undefined"!==typeof b["xaxis.range[1]"]?(e="undefined"!==typeof b["xaxis.range[0]"]?b["xaxis.range[0]"]:k.xaxis.range[0],d="undefined"!==typeof b["xaxis.range[1]"]?b["xaxis.range[1]"]:k.xaxis.range[1],u=!0):"undefined"!==typeof b["xaxis.range"]&&(e=b["xaxis.range"][0],d=b["xaxis.range"][1],u=!0),!0===u&&(A||(k.xaxis.range[0]=e,k.xaxis.range[1]=d,u=!1,w&&(ya(a,"nominal"),ca=pa(f.baseRealDate,k.xaxis.range[0],k.xaxis.range[1],E,J),ca!==
O&&(O=ca,fa(O,v,a[la],0)),ra(a,v,O,p),t&&(u=!0,ka(a,"uncompared"))),(t&&V!==e||u)&&Ra(a,e,z),V=e,c=Sa(e,d,a),g=c[0],m=c[1],M=e,ba=d,R=H.getTicktextAndTickvals(M,ba,W,I,X,Y,P,Z,aa,U),isNaN(g)||isNaN(m)||(k.yaxis.autorange=!1,k.yaxis.range=hb("log"===k.yaxis.type?"log":"linear",g,m,f.numberOfIntervalsInYAxis,f.possibleYTickMultiples,f.rangeProportion)),k.xaxis.tickvals=R.tickvals,k.xaxis.ticktext=R.ticktext,Plotly.redraw(F).then(function(){A=!1})),A=!0)})}function da(a,b){if(0===b)return a;var e=a%
b;return 0===e?a:a+b-e}function Y(a){return 10>a?"0"+a:""+a}function Gb(a,b,e){var d,c=a.length,g,m={},f={},n={},k=g="",l=[],h=[],p=[],v=[],u=!1,q=[],t=[],w=ib,x=jb,A=Ta;for(g in b)b.hasOwnProperty(g)&&b[g]&&(v.push(g),u=!0);var y=v.length;l.length=y;h.length=y;p.length=y;q.length=y;t.length=y;for(var r=0;r<c;r++){var B=!0;var H=a[r].xOriginal;var G=a[r].yOriginal;var C=H.length;if(u){for(d=0;d<y;d++)l[d]="undefined",h[d]=0,q[d]=0,t[d]=C-1;for(b=C-1;-1<b;b--){var K=H[b];var F=Z(K);var Q=B?"undefined":
H[b+1];var N=0<b?H[b-1]:"undefined";var I=Number(G[b]);"undefined"===typeof m[K]&&(m[K]=w(F.year,F.month,F.day));"undefined"===typeof f[K]&&(f[K]=x(F.year,F.month,F.day));if(B){"undefined"===typeof n[K]&&(n[K]=A(F.year,F.month,F.day,e));for(d=0;d<y;d++)p[d]={sum:0,n:0,calculate:!1};B=!1}"undefined"===typeof n[K]&&(n[K]=A(F.year,F.month,F.day,e));F=n[K];for(d=0;d<y;d++){g=v[d];var z=p[d];var E=F.begins[g];var J=F.ends[g];if(Q<E||m[K]<E)z.calculate=!0;z.calculate&&(z.sum=Number(z.sum)+I,z.n=Number(z.n)+
1);if("undefined"!=N&&N>=J||f[K]>=J){if("undefined"===typeof a[r][g])for(k in a[r][g]={x:[],close:[],average:[],change:[],percChange:[],sqrPercChange:[],cumulative:[]},a[r][g])a[r][g].hasOwnProperty(k)&&(a[r][g][k].length=C);E=a[r][g];J=t[d];E.x[J]=F.label[g];z.calculate?(E.average[J]=z.sum/z.n,z.sum=0,z.n=0,z.calculate=!1):E.average[J]="N/A";E.close[J]=I;E.cumulative[J]=h[d]+I;"undefined"!==l[d]?(g=I-l[d],E.change[J]=g,g=0!==l[d]?g/l[d]:"N/A",E.percChange[J]=g,E.sqrPercChange[J]="N/A"!=g?g*g:"N/A"):
(E.change[J]="N/A",E.percChange[J]="N/A",E.sqrPercChange[J]="N/A");t[d]--;q[d]++;l[d]=I;h[d]+=I}}}for(d=0;d<y;d++)for(k in g=v[d],E=a[r][g],E)E.hasOwnProperty(k)&&E[k].splice(0,C-q[d])}}}function Z(a){return{string:a,year:Number(a.substr(0,4)),month:Number(a.substr(5,2)),day:Number(a.substr(8,2))}}function jb(a,b,e){a=new Date(a,b-1,e);do a.setDate(a.getDate()+1);while("undefined"!=kb(a.getFullYear(),a.getMonth()+1,a.getDate()));return a.getFullYear()+"-"+(10>a.getMonth()+1?"0":"")+(a.getMonth()+
1)+"-"+(10>a.getDate()?"0":"")+a.getDate()}function ib(a,b,e){a=new Date(a,b-1,e);do a.setDate(a.getDate()-1);while("undefined"!=kb(a.getFullYear(),a.getMonth()+1,a.getDate()));return a.getFullYear()+"-"+(10>a.getMonth()+1?"0":"")+(a.getMonth()+1)+"-"+(10>a.getDate()?"0":"")+a.getDate()}function kb(a,b,e){var d={"1/3/1":"Martin Luther King Jr. Day","2/3/1":"Washington's Birthday","5/5/1":"Memorial Day","9/1/1":"Labor Day","11/4/4":"Thanksgiving Day"},c={"New Year":(new Date(a,0,1)).getDay(),"Independence Day":(new Date(a,
6,4)).getDay(),"Christmas Day":(new Date(a,11,25)).getDay()};var g={};0===c["New Year"]?g["1/2"]="New Year's Day":6>c["New Year"]&&(g["1/1"]="New Year's Day");0===c["Independence Day"]?g["7/5"]="Independence Day":6==c["Independence Day"]?g["7/3"]="Independence Day":g["7/4"]="Independence Day";0===c["Christmas Day"]?g["12/26"]="Christmas Day":6==c["Christmas Day"]?g["12/24"]="Christmas Day":g["12/25"]="Christmas Day";c=(new Date(a,b-1,e)).getDay();(d={6:"Saturday",0:"Sunday"}[""+c]||g[b+"/"+e]||d[b+
"/"+((1===c&&31<e+7?"5":null)||1+(0|(e-1)/7))+"/"+c])||(d=new Date("1899-12-31T00:00:00Z"),g=7*Math.round((new Date(a.toString()+"-04-02T00:00:00Z")-d)/864E5/7+.14*lb(19*lb(a,19)-7,30))-8,d=new Date(864E5*(g-1)+d.getTime()),g=d.getUTCMonth()+1,c=d.getUTCDate(),d=d.getFullYear()+"-"+(10>g?"0":"")+g+"-"+(10>c?"0":"")+c,d=a+"-"+(10>b?"0":"")+b+"-"+(10>e?"0":"")+e==d?"Good Friday":"undefined");return d}function lb(a,b){return a-b*Math.floor(a/b)}function Ta(a,b,e,d){function c(a){return 10>a?"0"+a:""+
a}var g={},m=(new Date(a,b-1,e)).getDay(),f=""+a,n=f+"-"+c(b)+"-",k=new Date(a,b-1,-6+e+(7+d-m)%7),l=new Date(a,b-1,e+1),h=new Date(a,b-1,1+e+(7+d-m)%7);d=new Date(a,b-1,e+(7+d-m)%7);m=new Date(a,3*(Math.trunc((b-1)/3)+1),1);var p=new Date(a,3*(Math.trunc((b-1)/3)+1),0),v=new Date(a,6*(Math.trunc((b-1)/6)+1),1),u=new Date(a,6*(Math.trunc((b-1)/6)+1),0),q=new Date(a,b,1),t=new Date(a,b,0);g.begins={day:n+c(e),week:k.getFullYear()+"-"+c(k.getMonth()+1)+"-"+c(k.getDate()),month:n+"01",quarter:f+"-"+
c(3*Math.trunc((b-1)/3)+1)+"-01",semester:f+"-"+c(6*Math.trunc((b-1)/6)+1)+"-01",year:f+"-01-01"};g.ends={day:l.getFullYear()+"-"+c(l.getMonth()+1)+"-"+c(l.getDate()),week:h.getFullYear()+"-"+c(h.getMonth()+1)+"-"+c(h.getDate()),month:q.getFullYear()+"-"+c(q.getMonth()+1)+"-"+c(q.getDate()),quarter:m.getFullYear()+"-"+c(m.getMonth()+1)+"-"+c(m.getDate()),semester:v.getFullYear()+"-"+c(v.getMonth()+1)+"-"+c(v.getDate()),year:""+(a+1)+"-01-01"};g.label={day:a+"-"+c(b)+"-"+c(e),week:d.getFullYear()+
"-"+c(d.getMonth()+1)+"-"+c(d.getDate()),month:t.getFullYear()+"-"+c(t.getMonth()+1)+"-"+c(t.getDate()),quarter:p.getFullYear()+"-"+c(p.getMonth()+1)+"-"+c(p.getDate()),semester:u.getFullYear()+"-"+c(u.getMonth()+1)+"-"+c(u.getDate()),year:""+a+"-12-31"};return g}function zb(a,b,e,d,c){var g=c.length,m={initialIndex:-1,traceLength:-1,insertPoint:0};d=e+d;for(var f=e;f<d;f++){var n=new Date(a[f][b]);if(-1===m.initialIndex)for(e=-1;e<g;e++)if(-1===e){var k=new Date(c[e+1]);if(n>k)for(m.initialIndex=
f,m.insertPoint=e+1,e=g,f=m.initialIndex;f<d;f++)n=new Date(a[f][b]),n<=k&&(m.traceLength=f-m.initialIndex,f=d)}else if(e===g-1)n<new Date(c[e])&&(m.initialIndex=f,m.insertPoint=e+1,e=g,m.traceLength=d-m.initialIndex,f=d);else if(k=new Date(c[e+1]),n<new Date(c[e])&&n>k)for(m.initialIndex=f,m.insertPoint=e+1,e=g,f=m.initialIndex;f<d;f++)n=new Date(a[f][b]),n<=k&&(m.traceLength=f-m.initialIndex,f=d)}-1===m.initialIndex&&(m.initialIndex=0,m.insertPoint=0,m.traceLength=0);return m}function ta(a,b){for(var e=
b.length,d=0;d<e;d++)if(b[d].traceID===a)return d;return-1}function yb(a){return function(b,e){return new Date(e[a])-new Date(b[a])}}function Ab(a,b){var e=b.length,d=a.length;a.length=e+d;for(var c=0;c<e;c++)a[d]=b[c],d++;return a}function Bb(a,b,e){var d=a.length,c=e.length;e.length=c+d;for(var g=b+d,m=b;m<c;m++)e[g]=e[m],g++;m=b;for(g=0;g<d;g++)e[m]=a[g],m++;return e}function eb(a,b){for(var e=b.traces,d,c,g=e.length,m=0;m<g;m++)d="x"+m,c="y"+m,e[m].xSeriesName=d,e[m].ySeriesName=c,a.hasOwnProperty(d)||
(a[d]={},a[d].yNames=[],a[d].yCalculateAdjustedClose=[],a[d].factorArray=[],a[d].shiftArray=[]),-1===a[d].yNames.indexOf(c)&&(a[d].yNames.push(c),"undefined"!==typeof b.calculateAdjustedClose?a[d].yCalculateAdjustedClose.push(b.calculateAdjustedClose):"undefined"!==typeof e[m].calculateAdjustedClose?a[d].yCalculateAdjustedClose.push(e[m].calculateAdjustedClose):a[d].yCalculateAdjustedClose.push(!1),"undefined"!==typeof e[m].factor?a[d].factorArray.push(e[m].factor):a[d].factorArray.push(1),"undefined"!==
typeof e[m].shift?a[d].shiftArray.push(e[m].shift):a[d].shiftArray.push(0)),"undefined"!==typeof e[m].sort?a[d].sort=e[m].sort:"undefined"===typeof a[d].sort&&(a[d].sort=!1),a[d].xDateSuffix="","undefined"!==typeof e[m].firstItemToRead?a[d].firstItemToRead=e[m].firstItemToRead:"undefined"===typeof a[d].firstItemToRead&&(a[d].firstItemToRead="first"),a[d].processDates=!1,"undefined"!==typeof e[m].factor&&(a[d].factor=e[m].factor),"undefined"!==typeof e[m].shift&&(a[d].shift=e[m].shift)}function Ua(a){function b(a){return 10>
a?"0"+a:""+a}return""+a.getFullYear()+"-"+b(a.getMonth()+1)+"-"+b(a.getDate())}function aa(a){function b(a){return 10>a?"0"+a:""+a}function e(a){return 100>a?"0"+b(a):a}var d=(new Date).getTimezoneOffset(),c="";c=0<d?"-"+S(d):"+"+S(-d);return""+a.getFullYear()+"-"+b(a.getMonth()+1)+"-"+b(a.getDate())+" "+b(a.getHours())+":"+b(a.getMinutes())+":"+b(a.getSeconds())+(0!==a.getMilliseconds()?"."+e(a.getMilliseconds()):"")+c}function mb(a){function b(a){return 10>a?"0"+a:""+a}return""+a.getFullYear()+
"-"+b(a.getMonth()+1)+"-"+b(a.getDate())}function xb(a){var b,e="";a=a.trim();a=a.split("-");100>(b=Number(a[2]))&&(b+=50>b?2E3:1900);var d=b.toString();b=a[1];"Jan"===b?e="01":"Feb"===b?e="02":"Mar"===b?e="03":"Apr"===b?e="04":"May"===b?e="05":"Jun"===b?e="06":"Jul"===b?e="07":"Aug"===b?e="08":"Sep"===b?e="09":"Oct"===b?e="10":"Nov"===b?e="11":"Dec"===b&&(e="12");return d=d+("-"+e+"-")+(10>Number(a[0])?"0"+a[0]:a[0])}function va(a){var b=new Date(a);b=(new Date(b.getFullYear(),b.getMonth()+1,0)).getDate().toString();
return a=a.substring(0,8)+b+a.substring(10,a.length)}function Hb(a,b){var e="",d=a.length;var c=(new Date).getTimezoneOffset();for(var g=" 00:00:00"+(0<c?"-"+S(c):"+"+S(-c)),m=0;m<d;m++)for(e in b)if(b.hasOwnProperty(e)&&!0===b[e]){var f=a[m][e].x;var n=f.length;for(c=0;c<n;c++)f[c]+=g}}function U(){var a=(new Date).getTimezoneOffset();return 0<a?"-"+S(a):"+"+S(-a)}function Q(a){var b=(new Date).getTimezoneOffset();b=0<b?"-"+S(b):"+"+S(-b);return ua(a,b)}function ua(a,b){var e="",d=[],c="";a.includes("Z")?
(d=a.split("Z"),e="+00:00",c=d[0]):a.includes("+")||a.includes("-")?(a.includes("+")&&(d=a.split("+"),e="+"+d[1],c=d[0]),a.includes("-")&&(d=a.split("-"),3===d.length?(e=b,c=d[0]+"-"+d[1]+"-"+d[2]):2==d.length?(e=b,c=d[0]+"-"+d[1]):(e="-"+d[3],c=d[0]+"-"+d[1]+"-"+d[2]))):(e=b,c=a+"-12-31");return c.includes(" ")||c.includes("T")?(a.includes(" ")&&(d=c.split(" ")),a.includes("T")&&(d=c.split("T")),d[0]+" "+d[1]+e):c+" 00:00:00"+e}function S(a){var b=a%60;a=((a-b)/60).toString();b=b.toString();a=1===
a.length?"0"+a:a;b=1===b.length?"0"+b:b;return a+":"+b}function Cb(a,b,e){b=new Date(b);e=new Date(e);for(var d=[],c=0;c<a.length;c++)new Date(a[c].x1)>=b&&new Date(a[c].x0)<=e&&d.push(a[c]);return d}function ab(a,b,e){var d=a.length,c=[];c.length=d;for(var g=0;g<d;g++)c[g]={type:"rect",xref:"x",yref:"paper",x0:a[g].x0,x1:a[g].x1,y0:0,y1:1,fillcolor:b,opacity:e,line:{width:0}};return c}function ub(a,b,e){var d=new XMLHttpRequest;d.responseType=a.responseType;d.open(a.method,a.url,a.async);d.send();
d.onreadystatechange=function(){4==d.readyState&&(200==d.status?b(d,e):e(null))}}function vb(a,b,e){(new JSZip).loadAsync(a.response).then(function(a){return a.file("USRECP_1.txt").async("string")}).then(function(a){var c=[],d,m=a.split("\r\n"),f=m[0].split("\t");var n=m.length-1;var k=f.length;c.length=n;for(var l=d=0;l<n;l++){var h=m[l+1].split("\t");if(h.length===k)for(d++,c[l]={},a=0;a<k;a++)c[l][f[a]]=h[a]}c.length=d;k=c.length;d=!0;m=!1;a=[];for(h=n=0;h<k;h++)d?"1"===c[h].USRECP&&(a.push({}),
a[n].x0=c[h].observation_date,d=!1,m=!0):m&&"0"===c[h].USRECP&&(d=c[h].observation_date,m=U(),d+=" 00:00:00"+m,d=new Date(Number(d.substr(0,4)),Number(d.substr(5,2))-1,Number(d.substr(8,2))),d=new Date(d.getTime()-864E5),d=mb(d),a[n].x1=d,d=!0,m=!1,n++);m&&(recession[n].x1=mb(new Date));h=b.length-1;k=c=a.length;var p;d=new Date(b[h].x0);for(n=0;n<c;n++)new Date(a[n].x0)>d&&(k=n,n=c);for(n=k;n<c;n++){b.push({});for(p in b[h])b[h].hasOwnProperty(p)&&(b[h+1][p]=b[h][p]);h++;b[h].x0=a[n].x0;b[h].x1=
a[n].x1}e(null)})}function Db(a,b,e){var d=[];"undefined"!==typeof e.initialDateForInitialDisplay&&(a=Q(e.initialDateForInitialDisplay));if("undefined"!==typeof e.yearsToPlotBackFromCurrent||"undefined"!==typeof e.yearsToPlot)if(0<e.yearsToPlotBackFromCurrent||0<e.yearsToPlot){a=0<e.yearsToPlotBackFromCurrent?e.yearsToPlotBackFromCurrent:e.yearsToPlot;var c=new Date;a=Q(aa(new Date(c.getFullYear()-a+"-"+(c.getMonth()+1)+"-"+c.getDate())))}"undefined"!==typeof e.yearsToPlotBackFromMaximum&&0<e.yearsToPlotBackFromMaximum&&
(a=e.yearsToPlotBackFromMaximum,c=new Date(b),a=Q(aa(new Date(c.getFullYear()-a+"-"+(c.getMonth()+1)+"-"+c.getDate()))));if("undefined"!==typeof e.yearsToPlotBackFromCurrent||"undefined"!==typeof e.yearsToPlot)c=new Date,b=Q(aa(c));"undefined"!==typeof e.endDateForInitialDisplay&&(b=Q(e.endDateForInitialDisplay));"undefined"!==typeof e.forecastMonthsFromCurrentDate&&0<e.forecastMonthsFromCurrentDate&&(c=new Date,c=new Date(c.setMonth(c.getMonth()+e.forecastMonthsFromCurrentDate)),b=Q(aa(c)));d.push(a);
d.push(b);return d}function oa(a,b,e){for(var d=a.length,c,g,m,f,n,k,l,h=0;h<d;h++){f=[];n=[];k=a[h][b].x;l=a[h][b][e];c=k.length;f.length=c;n.length=c;for(m=g=0;g<c;g++)isNaN(l[g])||(f[g]=k[g],n[g]=l[g],m++);f.length=m;n.length=m;a[h].x=f;a[h].y=n}}function ya(a,b){for(var e=a.length,d,c,g,m,f,n,k=0;k<e;k++){g=[];m=[];f=a[k][b].x;n=a[k][b].y;c=f.length;g.length=c;m.length=c;for(d=0;d<c;d++)g[d]=f[d],m[d]=n[d];a[k].x=g;a[k].y=m}}function Ma(a,b,e){for(var d=a.length,c,g,m,f,n,k,l=0;l<d;l++)if("undefined"!==
typeof a[l].x&&"undefined"!==typeof a[l].y&&"undefined"===typeof a[l][b]&&"undefined"===typeof a[l][e]){m=[];f=[];n=a[l].x;k=a[l].y;c=n.length;m.length=c;f.length=c;for(g=0;g<c;g++)m[g]=n[g],f[g]=k[g];a[l][b]=m;a[l][e]=f}}function ka(a,b){for(var e=a.length,d,c,g,m,f,n,k=0;k<e;k++){g=[];m=[];f=a[k].x;n=a[k].y;d=f.length;g.length=d;m.length=d;for(c=0;c<d;c++)g[c]=f[c],m[c]=n[c];a[k][b]={};a[k][b].x=g;a[k][b].y=m}}function Ca(a,b,e){for(var d=a.length,c,g,m,f,n,k,l=0;l<d;l++){m=[];f=[];n=a[l][b];k=
a[l][e];g=n.length;m.length=g;f.length=g;for(c=0;c<g;c++)m[c]=n[c],f[c]=k[c];a[l].x=m;a[l].y=f}}function W(a,b){var e;if("[object Array]"===Object.prototype.toString.call(a))return"undefined"===typeof b&&(b=a),b;if("object"===typeof a){"undefined"===typeof b&&(b={});for(e in a)a.hasOwnProperty(e)&&(b[e]=W(a[e],b[e]));return b}return b||a}function Sa(a,b,e){a=new Date(a);b=new Date(b);for(var d=0;d<e.length;d++)if("undefined"===typeof e[d].visible||!0===e[d].visible)for(var c=e[d],g=0;g<c.x.length;g++){var m=
new Date(c.x[g]);if(m>=a&&m<=b){m=Number(c.y[g]);if(void 0===f||m>f)var f=m;if(void 0===n||m<n)var n=m}}return[n,f]}function Pa(a){for(var b,e,d,c=a.length,g,m={},f,n=0;n<c;n++){f=a[n].x;g=f.length;d=new Date(f[0]);if("undefined"===typeof e||d>e)e=d,m.max=f[0];d=new Date(f[g-1]);if("undefined"===typeof b||d<b)b=d,m.min=f[g-1]}return m}function Fb(a,b,e){for(var d=0;d<a.length;d++)b.push(a[d]);e.updatemenus=b}function T(a,b){for(var e=a.length,d=0;d<e;d++)if("undefined"!==typeof a[d].name&&a[d].name===
b)return d;return!1}function Qa(a,b,e){return(a-b.margin.l-b.externalMargin.r+b.customMarginOfObjects-e)/(a-b.margin.l-b.margin.r)}function xa(a,b,e){for(var d=0;d<b.length;d++)if("undefined"!==typeof b[d].name&&b[d].name===e)return b[d].x=a,!0;return!1}function Jb(a,b){var e=ha(a,b);b.xaxis.rangeselector.x=e}function ha(a,b){return(a-b.margin.l-b.externalMargin.r+b.customMarginOfObjects)/(a-b.margin.l-b.margin.r)}function qa(a,b){b.textContent=a?B("compared"):B("uncompared")}function Ea(a,b){b.textContent=
a?B("log"):B("linear")}function Mb(a,b){for(var e=b.length,d=!1,c=0;c<e;c++)b[c].args[1]===a&&(d=!0);return d}function ja(a,b){for(var e=b.length,d=0;d<e;d++)if(b[d].args[1]===a)return d;return!1}function nb(a,b){for(var e=a.length,d=0;d<e;d++)b.push(a[d])}function ob(a,b){for(var e=b.length,d=0;d<e;d++)if("undefined"!==typeof b[d].args&&"undefined"!==typeof b[d].args[1]&&b[d].args[1]===a&&"undefined"!==typeof b[d].label)return b[d].label;return""}function gb(a,b,e,d,c){e===d?Va(a,b,e,d,"left",c):
a>=e&&b<=d?(c[0]=a,c[1]=b):a<e&&b>d?(c[0]=e,c[1]=d):a<e?Va(a,b,e,d,"right",c):b>d?Va(a,b,e,d,"left",c):(c[0]=e,c[1]=d)}function Va(a,b,e,d,c,g){"right"===c?(c=(new Date(e)).getTime()-(new Date(a)).getTime(),a=aa(new Date((new Date(b)).getTime()+c)),g[1]=a>d&&e!==d?d:a,g[0]=e):(c=(new Date(b)).getTime()-(new Date(d)).getTime(),a=aa(new Date((new Date(a)).getTime()-c)),g[0]=a<e&&e!==d?e:a,g[1]=d)}function ma(a,b,e,d,c){b=Sa(a.xaxis.range[0],a.xaxis.range[1],b);var g=a.yaxis.type;e=pb(b[0],b[1],g,e,
d,c);b[1]=e[1];b[0]=e[0];"log"===g&&(b[0]=Math.log(0>=b[0]?1E-7:b[0])/Math.log(10),b[1]=Math.log(0>=b[1]?1E-7:b[1])/Math.log(10));isNaN(b[0])||isNaN(b[1])||(a.yaxis.range=[b[0],b[1]],a.yaxis.autorange=!1)}function hb(a,b,e,d,c,g){var m=[];b=pb(b,e,a,d,c,g);e=b[1];b=b[0];"log"===a?(m.push(Math.log(0>=b?1E-7:b)/Math.log(10)),m.push(Math.log(e)/Math.log(10))):(m.push(b),m.push(e));return m}function Eb(a,b,e){"undefined"===typeof a.margin&&(a.margin={});"undefined"===typeof a.margin.l&&(a.margin.l=b);
"undefined"===typeof a.margin.r&&(a.margin.r=e)}function Ra(a,b,e){var d=new Date(b);var c=a.length;for(var g=0;g<c;g++){var m=0;var f=a[g].x.length;for(b=0;b<f;b++){var n=new Date(a[g].x[b]);n>=d?m=b:b=f}m="change"===e?a[g].yOriginal[m]:a[g].y[m];f=a[g].y.length;for(b=0;b<f;b++)a[g].y[b]/=m}}function wa(a,b,e,d,c,g){!1===a&&(ka(b,"uncompared"),a=!0);Ra(b,e,g);return a}function pb(a,b,e,d,c,g){d=[];if("linear"===e){var m=Number(b)-Number(a);m=m*(1-Number(g))/Number(g)/2;c=b+m;d.push(0<a?m>a?0:a-m:
a-m);d.push(c)}"log"===e&&(e=Math.log10(Number(b))-Math.log10(Number(a)),e=e*(1-Number(g))/Number(g)/2,a=Math.log10(Number(a))-e,b=Math.log10(Number(b))+e,a=Math.pow(10,a),b=Math.pow(10,b),d.push(a),d.push(b));return d}function Nb(a,b){var e=!1,d;for(d in b)b.hasOwnProperty(d)&&d===a&&(e=!0);return e}function Ob(a,b,e,d,c){for(var g=0;;g++){var m=a+" ",f=e,n=d,k=c.getContext("2d");k.font=""+n+"px "+f;if(k.measureText(m).width>b)return a;a+=" "}}function Pb(a,b,e){for(var d=b.length,c=!1,g=0;g<d;g++)b[g]===
a&&(c=!0);if(!c)b["undefined"===typeof e?"push":e](a)}function Qb(a,b){for(var e=b.length,d=0;d<e;d++)if(b[d]===a)return!0;return!1}function Lb(a,b,e){for(var d=e.length,c=0;c<d;c++)"undefined"!==typeof e[c][a]&&e[c][a]===b&&(e[c].active=!0,c=d)}function Wa(a,b){for(var e in b)b.hasOwnProperty(e)&&(a.style[e]=b[e])}function Rb(){var a=document.createElement("style");a.type="text/css";a.innerHTML="div.plotly-notifier { visibility: hidden; }";document.getElementsByTagName("head")[0].appendChild(a)}
function sa(a,b,e,d){a=document.createElement(a);"undefined"!==typeof e&&a.appendChild(document.createTextNode(e));"undefined"!==typeof b&&(a.id=b);"undefined"!==typeof d&&Wa(a,d);return a}function Da(a,b,e,d){a.yaxis.type!==b.yaxis.type&&(a.yaxis.type=b.yaxis.type,Ea("log"===a.yaxis.type?!0:!1,e.logLinearButtonElement))}function Na(a){a=a.replace("px","");return Number(a)}function Fa(a,b,e,d,c){a.addEventListener("mouseover",function(){a.style.backgroundcolor=b;a.style.color=e});a.addEventListener("mouseout",
function(){a.style.backgroundcolor=d;a.style.color=c})}function Sb(a,b,e){for(var d=[],c=e.length,g=b.length,m,f,n=0;n<c;n++)if(f=e[n],f===a)d.push(f);else for(m=0;m<g;m++)b[m]===f&&d.push(f);return d}function Tb(a,b,e){var d="";for(d in a)a.hasOwnProperty(d)&&(a[d]=!1);var c=b.length;for(var g=0;g<c;g++)d=b[g],"undefined"!==typeof e[d]&&(a[e[d]]=!0)}function Kb(a,b,e){for(var d="",c,g=b.length,m,f=0;f<g;f++)""!==d&&(d+=","),d+=""+a+","+b[f].name;a=d+"\r\n";m=0;do{c=!0;for(f=0;f<g;f++)"undefined"!==
typeof b[f].x[m]&&(c=!1);d="";if(!c){for(f=0;f<g;f++)"undefined"!==typeof b[f].x[m]?(""!==d&&(d+=","),d+=b[f].x[m]+","+b[f].y[m]):(""!==d&&(d+=","),d+=",");a+=d+"\r\n"}m+=1}while(!c);b=(e||"export")+".csv";a=new Blob([a],{type:"text/csv;charset=utf-8;"});navigator.msSaveBlob?navigator.msSaveBlob(a,b):(e=document.createElement("a"),"undefined"!==e.download&&(a=URL.createObjectURL(a),e.setAttribute("href",a),e.setAttribute("download",b),e.style.visibility="hidden",document.body.appendChild(e),e.click(),
document.body.removeChild(e)))}function cb(a){for(var b=a.length,e=-1,d=0;d<b;d++)"undefined"!==typeof a[d].deflactor&&a[d].deflactor&&(e=d,d=b);return e}function db(a,b,e,d){var c,g,m=a.length,f="";if(-1===d)return!1;for(var n=g=0;n<m;n++){if("undefined"!==typeof a[n].xOriginal){var k=a[n].xOriginal.length;for(c=0;c<k;c++){var l=a[n].xOriginal[c];"undefined"===typeof b[l]&&(g=fa(l,b,a[d],g))}}for(f in e)if(e.hasOwnProperty(f)&&!0===e[f]&&"undefined"!==typeof a[n][f])for(k=a[n][f].x.length,c=0;c<
k;c++)l=a[n][f].x[c],"undefined"===typeof b[l]&&(g=fa(l,b,a[d],g))}return!0}function fa(a,b,e,d){var c=new Date(a),g,m=e.x.length;d>m&&(d=0);if(c<=(g=new Date(e.xOriginal[m-1]))){var f=new Date(e.xOriginal[m-2]);var n=e.yOriginal[m-1];var k=e.yOriginal[m-2];b[a]=Xa(c,g,f,n,k)}else if(c>=(f=new Date(e.xOriginal[0])))g=new Date(e.xOriginal[1]),n=e.yOriginal[1],k=e.yOriginal[0],b[a]=Xa(c,g,f,n,k);else{var l=c>=new Date(e.x[d])?-1:1;for(g=d;g<m&&-1<g;)c>=new Date(e.xOriginal[d+1])&&c<=new Date(e.xOriginal[d])?
(g=new Date(e.xOriginal[d+1]),f=new Date(e.xOriginal[d]),n=e.yOriginal[d+1],k=e.yOriginal[d],b[a]=Xa(c,g,f,n,k),g=m):d=g+=l}return d}function Xa(a,b,e,d,c){return Number(d)*Math.pow(c/d,(a.getTime()-b.getTime())/(e.getTime()-b.getTime()))}function pa(a,b,e,d,c){return"end of range"===a?e:"beggining of range"===a?b:"end of domain"===a?c:"beggining of domain"===a?d:"[object Date]"===Object.prototype.toString.call(new Date(a))?isNaN((new Date(a)).getTime())?c:a:c}function Ib(a,b,e,d,c){a||(ka(b,"nominal"),
a=!0);ra(b,e,d,c);return a}function ra(a,b,e,d){var c=Number(b[e]);var g=a.length;for(var m=0;m<g;m++)if(d[m].toggleRealNominal){var f=a[m].y.length;for(e=0;e<f;e++)a[m].y[e]=c*a[m].y[e]/Number(b[a[m].x[e]])}}function qb(){for(var a=[document,Ga,location],b,e=0;e<a.length;e++){a:{b=a[e];if("undefined"!==typeof b)if(b!==location){if("undefined"!==typeof b.location&&"undefined"!==typeof b.location.protocol){b=b.location.protocol;break a}}else if("undefined"!==typeof b&&"undefined"!==typeof b.protocol){b=
b.protocol;break a}b=!1}if(b)return"https:"===b}return!1}var H={},za={en:{dictionary:{close:"close"},format:{decimal:"."}}},Ia=Ya("en",za);H.register=function(a){"undefined"!==a.moduleType&&"locale"===a.moduleType&&(za[a.name]={},za[a.name].dictionary=a.dictionary,za[a.name].format=a.format)};var Ka=[!1],Aa=[!1],Ba=[{x0:"1857-06-01",x1:"1858-11-30"},{x0:"1860-10-01",x1:"1861-05-31"},{x0:"1865-04-01",x1:"1867-11-30"},{x0:"1869-06-01",x1:"1870-11-30"},{x0:"1873-10-01",x1:"1879-02-28"},{x0:"1882-03-01",
x1:"1885-04-30"},{x0:"1887-03-01",x1:"1888-03-31"},{x0:"1890-07-01",x1:"1891-04-30"},{x0:"1893-01-01",x1:"1894-05-31"},{x0:"1895-12-01",x1:"1897-05-31"},{x0:"1899-06-01",x1:"1900-11-30"},{x0:"1902-09-01",x1:"1904-07-31"},{x0:"1907-05-01",x1:"1908-05-31"},{x0:"1910-01-01",x1:"1911-12-31"},{x0:"1913-01-01",x1:"1914-11-30"},{x0:"1918-08-01",x1:"1919-02-28"},{x0:"1920-01-01",x1:"1921-06-30"},{x0:"1923-05-01",x1:"1924-06-30"},{x0:"1926-10-01",x1:"1927-10-31"},{x0:"1929-08-01",x1:"1933-02-28"},{x0:"1937-05-01",
x1:"1938-05-31"},{x0:"1945-02-01",x1:"1945-09-30"},{x0:"1948-11-01",x1:"1949-09-30"},{x0:"1953-07-01",x1:"1954-04-30"},{x0:"1957-08-01",x1:"1958-03-31"},{x0:"1960-04-01",x1:"1961-01-31"},{x0:"1969-12-01",x1:"1970-10-31"},{x0:"1973-11-01",x1:"1975-02-28"},{x0:"1980-01-01",x1:"1980-06-30"},{x0:"1981-07-01",x1:"1982-10-31"},{x0:"1990-07-01",x1:"1991-02-28"},{x0:"2001-03-01",x1:"2001-10-31"},{x0:"2007-12-01",x1:"2009-05-31"}];H.newTimeseriesPlot=function(a,b,e,d,c,g,m,f){c=void 0===c?{}:c;g=void 0===
g?{}:g;m=void 0===m?{}:m;f=void 0===f?{}:f;"undefined"!==typeof c&&"undefined"!==typeof c.locale&&(Ia=Ya(c.locale,za));if(3>arguments.length)return"incomplete arguments";a.loaderID="loader_"+a.wholeDivID;a.wholeDivElement=document.getElementById(a.wholeDivID);Wa(a.wholeDivElement,{visibility:"hidden",opacity:1,position:"relative"});a.loaderElement=document.createElement("div");a.loaderElement.id=a.loaderID;a.wholeDivElement.appendChild(a.loaderElement);"undefined"===typeof a.noLoadedDataMessage&&
(a.noLoadedDataMessage='<div style="position:relative; top:50%; transform:translateY(-50%);text-align:center;"><h3><font color="#1A5488"  ><b>Datos no recibidos</b></font></div>');"undefined"===typeof a.onErrorHideWholeDiv&&(a.onErrorHideWholeDiv=!1);Wa(a.loaderElement,{visibility:"visible",position:"absolute",top:"-1px",right:"-1px",bottom:"-1px",left:"-1px",background:"url('https://raw.githubusercontent.com/ajoposor/Images/master/files/loader_big_blue.gif')50% 50% no-repeat #FFFFFF",opacity:1,"z-index":"9999"});
var n=[],k=[{method:"relayout",args:["myAggregation","base"],label:" "}],l=[{method:"relayout",args:["myAggregation","close"],label:B("close")},{method:"relayout",args:["myAggregation","average"],label:B("avg.")},{method:"relayout",args:["myAggregation","change"],label:B("chg.")},{method:"relayout",args:["myAggregation","percChange"],label:B("% chg.")},{method:"relayout",args:["myAggregation","sqrPercChange"],label:B("% chg.^2")},{method:"relayout",args:["myAggregation","cumulative"],label:B("cum.")}],
h={color:"#444444",background:"#EEEEEE",display:"block",position:"relative","float":"left",width:"50px",padding:"0",margin:"1px 1px 1px 1px",transition:"all 0.2s","background-color":"#EEEEEE","font-weight":"100","text-align":"center","line-height":"17px","border-radius":"3px","border-style":"none"},p={"background-color":"#D4D4D4",color:"#444444"},v="://kapitalvalue.com/plots_data/testing/fredRecessions-unlocked.php?observation_start=2015-12-01";v=qb()?"https"+v:"http"+v;h={displayRecessions:!0,recessionsFillColor:"#000000",
recessionsOpacity:.15,newRecessionsUrl:v,queueConcurrencyLimit:10,queueConcurrencyDelay:5,waitForGlobalData:!1,dataReadFlag:[!0],maxWaitForGlobalData:24E4,flagTestInterval:100,allowCompare:!1,transformToBaseIndex:!1,allowFrequencyResampling:!1,targetFrequencyDisplay:"daily",defaultNames:{frequency:"base",aggregation:"base"},defaultLabels:{frequency:!1,aggregation:!1},defaultButtonLabels:{frequency:B("base"),aggregation:B("base")},allowSelectorOptions:!0,allowLogLinear:!1,allowDownload:!1,allowRealNominal:!1,
downloadedFileName:"CSV Data File",xAxisNameOnCSV:"Date",widthOfRightItemsFrequencyButtons:94,singleButtonStringLengthInPixels:59,textAndSpaceToTextRatio:1.8,maxNumberOfCharactersInFrequencyButton:11,maxNumberOfCharactersInAggregationButton:6,endOfWeek:5,numberOfIntervalsInYAxis:9,possibleYTickMultiples:[.1,.2,.5,1,2,5,10],rangeProportion:.9,periodKeys:{day:!0,week:!0,month:!0,quarter:!0,semester:!0,year:!0},period:{daily:"day",weekly:"week",monthly:"month",quarterly:"quarter",semiannual:"semester",
annual:"year"},desiredFrequencies:"daily weekly monthly quarterly semiannual annual".split(" "),buttonsDefaultStyle:h,buttonsHoverDefaultStyle:p,buttonsStyle:h,buttonsHoverStyle:p,pressedButtonDefaultStyle:{color:"#444444",background:"#EEEEEE",display:"block",position:"relative","float":"left",width:"50px",padding:"0",margin:"1px 1px 1px 1px",transition:"all 0.2s","background-color":"#D4D4D4","font-weight":"100","text-align":"center","line-height":"17px","border-radius":"3px","border-style":"none"},
pressedButtonHoverDefaultStyle:{"background-color":"#EEEEEE","touch-background-color":"#D4D4D4","mouse-background-color":"#EEEEEE",color:"#444444"},removeDoubleClickToZoomBackOut:!0};p={daily:!0,weekly:!0,monthly:!0,quarterly:!0,semiannual:!0,annual:!0};v="daily weekly monthly quarterly semiannual annual".split(" ");W(h,c);W({xaxis:{rangeslider:{thickness:.06},tickangle:0,tickfont:{family:"Open Sans, Arial",size:12,color:"#0d0d0d"}},yaxis:{type:"linear",autorange:!0,side:"right",tickfont:{family:"Open Sans, Arial",
size:12,color:"#0d0d0d"},hoverformat:".4r"},showlegend:!1,paper_bgcolor:"#E1E9F0",margin:{t:50,l:15,r:35,b:40},externalMargin:{t:15,l:15,r:15,b:15},customMarginOfObjects:5},m);a.plotDivElement=document.getElementById(a.plotDivID);a.plotlyDivID=a.plotDivID+"_plotly";a.plotlyDivElement=sa("div",a.plotlyDivID);a.plotDivElement.appendChild(a.plotlyDivElement);a.plotlyDivElement.style["background-color"]=m.paper_bgcolor;if(c.allowCompare||c.allowLogLinear||c.allowDownload||c.allowRealNominal)a.footerDivID=
a.plotDivID+"_plotlyFooter",a.footerDivElement=sa("div",a.footerDivID),a.plotDivElement.appendChild(a.footerDivElement),a.footerDivElement.style["background-color"]=m.paper_bgcolor;c.removeDoubleClickToZoomBackOut&&Rb();c.allowLogLinear&&(a.logLinearButtonID=a.footerDivID+"_logLinear",c.buttonsStyle["float"]="right",c.buttonsStyle.width="50px",c.buttonsStyle["border-style"]="inset",c.buttonsStyle["background-color"]=c.buttonsHoverDefaultStyle["background-color"],a.logLinearButtonElement=sa("button",
a.logLinearButtonID,"log"===m.yaxis.type?B("log"):B("linear"),c.buttonsStyle),a.logLinearButtonElement.style.marginRight=m.externalMargin.r+"px",a.footerDivElement.appendChild(a.logLinearButtonElement),Fa(a.logLinearButtonElement,c.pressedButtonHoverDefaultStyle["background-color"],c.pressedButtonHoverDefaultStyle.color,c.pressedButtonDefaultStyle["background-color"],c.pressedButtonDefaultStyle.color));c.allowDownload&&(a.downloadButtonID=a.footerDivID+"_download",c.buttonsStyle["float"]="left",c.buttonsStyle.width=
"30px",c.buttonsStyle["border-style"]=c.buttonsDefaultStyle["border-style"],c.buttonsStyle["background-color"]=c.buttonsDefaultStyle["background-color"],a.downloadButtonElement=sa("button",a.downloadButtonID,"",c.buttonsStyle),a.downloadButtonElement.innerHTML='<img src="https://raw.githubusercontent.com/ajoposor/Images/master/files/Download_Arrow_10_Dark.png" />',a.downloadButtonElement.style.marginLeft=m.externalMargin.l+"px",a.footerDivElement.appendChild(a.downloadButtonElement),Fa(a.downloadButtonElement,
c.buttonsHoverDefaultStyle["background-color"],c.buttonsHoverDefaultStyle.color,c.buttonsDefaultStyle["background-color"],c.buttonsDefaultStyle.color),a.downloadButtonElement.addEventListener("click",function(){Plotly.relayout(a.plotlyDivElement,{download:!0})},!1));c.allowRealNominal&&(a.realNominalButtonID=a.footerDivID+"_realNominal",c.buttonsStyle["float"]="left",c.buttonsStyle.width="55px",c.buttonsStyle["border-style"]="inset",c.buttonsStyle["background-color"]=c.buttonsHoverDefaultStyle["background-color"],
a.realNominalButtonElement=sa("button",a.realNominalButtonID,"real"===c.initialRealNominal?B("real"):B("nominal"),c.buttonsStyle),c.allowDownload||(a.realNominalButtonElement.style.marginLeft=m.externalMargin.l+"px"),a.footerDivElement.appendChild(a.realNominalButtonElement),Fa(a.realNominalButtonElement,c.pressedButtonHoverDefaultStyle["background-color"],c.pressedButtonHoverDefaultStyle.color,c.pressedButtonDefaultStyle["background-color"],c.pressedButtonDefaultStyle.color));if(c.allowCompare){a.compareButtonID=
a.footerDivID+"_compare";c.buttonsStyle["float"]="left";c.buttonsStyle.width="85px";c.buttonsStyle["border-style"]="inset";c.buttonsStyle["background-color"]=c.buttonsHoverDefaultStyle["background-color"];if("percChange"===c.series.baseAggregation||"sqrPercChange"===c.series.baseAggregation)c.transformToBaseIndex=!1;a.compareButtonElement=sa("button",a.compareButtonID,c.transformToBaseIndex?B("compared"):B("uncompared"),c.buttonsStyle);c.allowDownload||c.allowRealNominal||(a.compareButtonElement.style.marginLeft=
m.externalMargin.l+"px");a.footerDivElement.appendChild(a.compareButtonElement);Fa(a.compareButtonElement,c.pressedButtonHoverDefaultStyle["background-color"],c.pressedButtonHoverDefaultStyle.color,c.pressedButtonDefaultStyle["background-color"],c.pressedButtonDefaultStyle.color)}var u=!1,q,t="";document.addEventListener("touchstart",function(a){clearTimeout(q);u=!0;"can-touch"!==t&&(t="can-touch",document.documentElement.classList.add(t),c.pressedButtonHoverDefaultStyle["background-color"]=c.pressedButtonHoverDefaultStyle["touch-background-color"]);
q=setTimeout(function(){u=!1},500)},!1);document.addEventListener("mouseover",function(a){u||"can-touch"!==t||(u=!1,t="",document.documentElement.classList.remove("can-touch"),c.pressedButtonHoverDefaultStyle["background-color"]=c.pressedButtonHoverDefaultStyle["mouse-background-color"])},!1);Tb(c.periodKeys,c.desiredFrequencies,c.period);"undefined"===typeof c.series.baseFrequency&&(c.series.baseFrequency=c.defaultNames.frequency,c.series.customFrequency=!0,c.series.baseFrequencyType="not available");
Nb(c.series.baseFrequency,p)?(!1===Qb(c.series.baseFrequency,p)&&(c.desiredFrequencies=Sb(c.series.baseFrequency,c.desiredFrequencies,v)),c.series.customFrequency=!1,c.series.baseFrequencyType="normal"):(c.series.baseFrequency.length>c.maxNumberOfCharactersInFrequencyButton&&(c.series.baseFrequency=c.series.baseFrequency.substring(0,c.maxNumberOfCharactersInFrequencyButton-1)+"."),p[c.series.baseFrequency]=!0,Pb(c.series.baseFrequency,c.desiredFrequencies,"unshift"),c.series.customFrequency=!0,c.series.baseFrequencyType=
"custom");h=[{name:"frequencies",visible:!0,type:"dropdown",active:0,y:1.14,yanchor:"top",x:.75,xanchor:"right",pad:{t:1,r:1,b:1,l:1},direction:"down",font:{family:"Open Sans, Arial",size:12,color:"#0d0d0d"},bgcolor:"#EEEEEE",buttons:function(a,b){for(var c=[],d=0;d<a.length;d++)"undefined"!==typeof b[a[d]]&&(c[d]={label:B(a[d]),method:"relayout",args:["myFrequency",a[d]]});return c}(c.desiredFrequencies,p)},{name:"aggregation",visible:!0,type:"dropdown",active:0,y:1.14,yanchor:"top",x:1,xanchor:"right",
pad:{t:1,r:1,b:1,l:1},direction:"down",font:{family:"Open Sans, Arial",size:12,color:"#0d0d0d"},bgcolor:"#EEEEEE",buttons:l}];h[0].active=ja(c.series.baseFrequency,h[0].buttons);"undefined"===typeof c.series.baseAggregation?c.series.baseAggregationType="not available":Mb(c.series.baseAggregation,l)?c.series.baseAggregationType="normal":c.series.baseAggregationType="custom";"not available"===c.series.baseAggregationType&&"normal"!==c.series.baseFrequencyType&&(c.series.baseAggregation=c.defaultNames.aggregation,
c.series.baseAggregationLabel=c.defaultNames.aggregation,c.series.customAggregation=!0,k[0].label=B(c.defaultNames.aggregation),k[0].args[1]=c.defaultNames.aggregation,h[1].buttons=k,h[1].visible=!1,h[1].type="buttons",h[1].showactive=!1);"normal"===c.series.baseFrequencyType&&"normal"!==c.series.baseAggregationType&&("not available"===c.series.baseAggregationType?(c.series.baseAggregation=c.defaultNames.aggregation,c.series.baseAggregationLabel=c.defaultNames.aggregation,c.series.customAggregation=
!0,k[0].label=B(c.defaultNames.aggregation),k[0].args[1]=c.defaultNames.aggregation):(B(c.series.baseAggregation).length>c.maxNumberOfCharactersInAggregationButton?c.series.baseAggregationLabel=B(c.series.baseAggregation).substring(0,c.maxNumberOfCharactersInAggregationButton-1)+".":c.series.baseAggregationLabel=c.series.baseAggregation,c.series.customAggregation=!0,k[0].label=B(c.series.baseAggregationLabel),k[0].args[1]=c.series.baseAggregationLabel),nb(k,n),nb(l,n),h[1].buttons=n,h[1].active=0,
h[1].type="dropdown");p=document.createElement("canvas");"normal"!==c.series.baseFrequencyType&&"not available"!==c.series.baseAggregationType&&("custom"===c.series.baseAggregationType?(c.series.baseAggregation=c.series.baseAggregation,B(c.series.baseAggregation).length>c.maxNumberOfCharactersInAggregationButton?c.series.baseAggregationLabel=B(c.series.baseAggregation).substring(0,c.maxNumberOfCharactersInAggregationButton-1)+".":c.series.baseAggregationLabel=c.series.baseAggregation,c.series.customAggregation=
!0):(c.series.baseAggregationLabel=ob(c.series.baseAggregation,l),c.series.customAggregation=!1),k[0].label=Ob(B(c.series.baseAggregationLabel),c.singleButtonStringLengthInPixels,h[1].font.family,h[1].font.size,p),k[0].args[1]=c.series.baseAggregation,h[1].buttons=k,h[1].visible=!0,h[1].active=0,h[1].type="buttons",h[1].showactive=!1);"normal"===c.series.baseFrequencyType&&"normal"===c.series.baseAggregationType&&(c.series.baseAggregation=c.series.baseAggregation,c.series.baseAggregationLabel=ob(c.series.baseAggregation,
l),c.series.customAggregation=!1,h[1].buttons=l,h[1].visible=!0,h[1].type="dropdown",h[1].active=ja(c.series.baseAggregation,l));c.singleAggregationButton=k;c.baseAggregationButtons=l;c.combinedAggregationButtons=n;"undefined"!==typeof c.changeFrequencyAggregationTo&&("undefined"===typeof c.changeFrequencyAggregationTo.frequency?(c.changeFrequencyAggregationTo.frequency="base",c.changeFrequencyAggregationTo.aggregation=c.series.aggregation):"undefined"===typeof c.changeFrequencyAggregationTo.aggregation&&
(c.changeFrequencyAggregationTo.aggregation=c.series.aggregation));W({},g);n={buttons:[{step:"month",stepmode:"backward",count:1,label:B("1m")},{step:"month",stepmode:"backward",count:6,label:B("6m")},{step:"year",stepmode:"todate",count:1,label:B("YTD")},{step:"year",stepmode:"backward",count:1,label:B("1y")},{step:"year",stepmode:"backward",count:5,label:B("5y")},{step:"year",stepmode:"backward",count:10,label:B("10y")},{step:"all",label:B("all")}],font:{family:"Open Sans, Arial",size:12,color:"#0d0d0d"},
xanchor:"right",x:1,yanchor:"bottom",y:-.24};k=[{name:"compare",visible:!0,type:"buttons",showactive:!1,y:-.24,yanchor:"bottom",x:0,xanchor:"left",pad:{t:1,r:1,b:1,l:1},direction:"right",font:{family:"Open Sans, Arial",size:12,color:"#0d0d0d"},bgcolor:"#EEEEEE",buttons:[{method:"relayout",args:["compare",c.transformToBaseIndex?!1:!0],label:c.transformToBaseIndex?"uncompare":"compare"}]}];W({showLink:!1,displayModeBar:!1},f);"undefined"===typeof g.tracesInitialDate&&(g.tracesInitialDate="");"undefined"===
typeof g.tracesEndDate&&(g.tracesEndDate="");Za(b,{otherDataProperties:e,dataSources:d,divInfo:a,settings:c,timeInfo:g,selectorOptions:"undefined"===typeof m.xaxis.rangeselector?n:m.xaxis.rangeselector,frequencyUpdateMenu:h,compareUpdateMenu:k,layout:m,options:f},!0)};H.readSomeDataSourcesIntoData=function(a,b,e,d,c,g){d=void 0===d?{}:d;c=void 0===c?{}:c;if(3>arguments.length)return"incomplete arguments";"function"!==typeof g&&(g=function(){});W({queueConcurrencyLimit:10,queueConcurrencyDelay:5,waitForGlobalData:!1,
dataReadFlag:[!1],displayRecessions:!1},d);W({},c);"undefined"===typeof c.tracesInitialDate&&(c.tracesInitialDate="");"undefined"===typeof c.tracesEndDate&&(c.tracesEndDate="");Za(a,{otherDataProperties:b,dataSources:e,settings:d,timeInfo:c},!1,g)};H.updateKnowRecessions=function(a){a=void 0===a?"":a;Aa[0]=!0;""===a&&(a="://kapitalvalue.com/plots_data/testing/fredRecessions-unlocked.php?observation_start=2015-12-01",a=qb()?"https"+a:"http"+a);var b=d3.queue(1);b.defer($a,a,Ba);b.awaitAll(function(a){Ka[0]=
!0;Aa[0]=!1})};H.padTo2=Y;H.getTicktextAndTickvals=function(a,b,e,d,c,g,m,f,n,k){var l=Z(a);b=Z(b);b=new Date(b.year,b.month-1,b.day);a="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");l=[{name:"daily",initialDate:new Date(l.year,l.month-1,l.day),monthsStep:0,daysStep:1,string:"2000-04-30",stringName:"date"},{name:"everyOtherDay",initialDate:new Date(l.year,l.month-1,l.day),monthsStep:0,daysStep:2,string:"2000-04-30",stringName:"date"},{name:"weekly",initialDate:new Date(l.year,l.month-
1,l.day),monthsStep:0,daysStep:7,string:"2000-04-30",stringName:"date"},{name:"biweekly",initialDate:new Date(l.year,l.month-1,l.day),monthsStep:0,daysStep:14,string:"2000-04-30",stringName:"date"},{name:"monthly",initialDate:new Date(l.year,l.month,0),monthsStep:1,daysStep:0,string:"monthly"===d?"Nov 2000":"2000-04",stringName:"monthly"===d?"month":"year-month"},{name:"quarterly",initialDate:4>l.month||9<l.month?new Date(l.year,-1+3*Math.floor(l.month/3),31):new Date(l.year,-1+3*Math.floor(l.month/
3),30),monthsStep:3,daysStep:0,string:"monthly"===d?"Nov 2000":"quarterly"===d?"Q4 2000":"2000-00",stringName:"monthly"===d?"month":"quarterly"===d?"quarter":"year-month"},{name:"semiannual",initialDate:7>l.month?new Date(l.year,5,30):new Date(l.year,11,31),monthsStep:6,daysStep:0,string:"semiannual"===d?"H2 2000":"quarterly"===d?"Q4 2000":"2000-00",stringName:"semiannual"===d?"semester":"quarterly"===d?"quarter":"year-month"},{name:"annual",initialDate:new Date(l.year,11,31),monthsStep:12,daysStep:0,
string:"semiannual"===d?"H2 2000":"2000",stringName:"semiannual"===d?"semester":"year"},{name:"biennial",initialDate:new Date(l.year,11,31),monthsStep:24,daysStep:0,string:"2000",stringName:"year"},{name:"quinquennial",initialDate:new Date(da(l.year,5),11,31),monthsStep:60,daysStep:0,string:"2000",stringName:"year"},{name:"decennial",initialDate:new Date(da(l.year,10),11,31),monthsStep:120,daysStep:0,string:"2000",stringName:"year"},{name:"quadranscentennial",initialDate:new Date(da(l.year,25),11,
31),monthsStep:300,daysStep:0,string:"2000",stringName:"year"},{name:"semicentennial",initialDate:new Date(da(l.year,50),11,31),monthsStep:600,daysStep:0,string:"2000",stringName:"year"},{name:"centennial",initialDate:new Date(da(l.year,100),11,31),monthsStep:1200,daysStep:0,string:"2000",stringName:"year"},{name:"bicentennial",initialDate:new Date(da(l.year,100),11,31),monthsStep:2400,daysStep:0,string:"2000",stringName:"year"},{name:"sestercentennial",initialDate:new Date(da(l.year,250),11,31),
monthsStep:3E3,daysStep:0,string:"2000",stringName:"year"},{name:"quincentenary",initialDate:new Date(da(l.year,500),11,31),monthsStep:6E3,daysStep:0,string:"2000",stringName:"year"},{name:"millenial",initialDate:new Date(da(l.year,1E3),11,31),monthsStep:12E3,daysStep:0,string:"2000",stringName:"year"}];for(var h="undefined",p=0;p<l.length;p++)l[p].name===d&&(h=p,p=l.length);"undefined"===h&&(h=0);d={ticktext:[],tickvals:[]};for(p=h;p<l.length;p++){var v=0;for(h=new Date(l[p].initialDate.getTime());h<=
b;)v++,0<l[p].daysStep&&h.setDate(h.getDate()+l[p].daysStep),0<l[p].monthsStep&&(h=new Date(h.getFullYear(),h.getMonth()+l[p].monthsStep+1,0));l[p].j=v;h=l[p];if(0===v)v=0;else{var u=l[p].string;var q=c,t=g,w=k.getContext("2d");w.font=""+t+"px "+q;u=w.measureText(u).width;v=(m-f-n)/(v*u)}h.xSpace=v;if(l[p].xSpace>=e){for(h=new Date(l[p].initialDate.getTime());h<=b;)d.tickvals.push(""+h.getFullYear()+"-"+Y(h.getMonth()+1)+"-"+Y(h.getDate())),"date"===l[p].stringName?d.ticktext.push(""+h.getFullYear()+
"-"+Y(h.getMonth()+1)+"-"+Y(h.getDate())):"month"===l[p].stringName?d.ticktext.push(a[h.getMonth()]+" "+h.getFullYear()):"quarter"===l[p].stringName?d.ticktext.push("Q"+Math.ceil((h.getMonth()+1)/3)+" "+h.getFullYear()):"semester"===l[p].stringName?d.ticktext.push("H"+Math.ceil((h.getMonth()+1)/6)+" "+h.getFullYear()):"year"===l[p].stringName?d.ticktext.push(""+h.getFullYear()):"year-month"===l[p].stringName&&d.ticktext.push(""+h.getFullYear()+"-"+Y(h.getMonth()+1)),0<l[p].daysStep&&h.setDate(h.getDate()+
l[p].daysStep),0<l[p].monthsStep&&(h=new Date(h.getFullYear(),h.getMonth()+l[p].monthsStep+1,0));p=l.length}}return d};H.createDataOriginal=function(a){for(var b,e=0;e<a.length;e++)if("undefined"===typeof a[e].xOriginal)for(a[e].xOriginal=[],a[e].yOriginal=[],b=0;b<a[e].x.length;b++)a[e].xOriginal.push(a[e].x[b]),a[e].yOriginal.push(a[e].y[b])};H.transformSeriesByFrequencies=function(a,b,e){for(var d,c,g,m,f,n,k,l="",h={},p={},v={},u,q,t={},w=0;w<a.length;w++){k=!0;d=!1;for(l in b)b.hasOwnProperty(l)&&
(b[l]?"undefined"!==typeof a[w][l]?t[l]=!1:d=t[l]=!0:t[l]=!1);if(d){for(l in t)t.hasOwnProperty(l)&&t[l]&&(h[l]="undefined",p[l]=0);for(d=a[w].xOriginal.length-1;-1<d;d--){c=Z(a[w].xOriginal[d]);u=k?"undefined":a[w].xOriginal[d+1];q=0<d?a[w].xOriginal[d-1]:"undefined";g=Number(a[w].yOriginal[d]);m=Z(ib(c.year,c.month,c.day));f=Z(jb(c.year,c.month,c.day));if(k){Ta(c.year,c.month,c.day,e);for(l in t)t.hasOwnProperty(l)&&(v[l]={sum:0,n:0,calculate:!1});k=!1}n=Ta(c.year,c.month,c.day,e);for(l in t)if(t.hasOwnProperty(l)){if(u<
n.begins[l]||m.string<n.begins[l])v[l].calculate=!0;!0===v[l].calculate&&(v[l].sum=Number(v[l].sum)+g,v[l].n=Number(v[l].n)+1);if("undefined"!=q&&q>=n.ends[l]||f.string>=n.ends[l])"undefined"===typeof a[w][l]&&(a[w][l]={x:[],close:[],average:[],change:[],percChange:[],sqrPercChange:[],cumulative:[]}),a[w][l].x.unshift(n.label[l]),!0===v[l].calculate?(a[w][l].average.unshift(v[l].sum/v[l].n),v[l].sum=0,v[l].n=0,v[l].calculate=!1):a[w][l].average.unshift("N/A"),a[w][l].close.unshift(g),a[w][l].cumulative.unshift(p[l]+
g),"undefined"!==h[l]?(c=g-h[l],a[w][l].change.unshift(c),c=0!==h[l]?c/h[l]:"N/A",a[w][l].percChange.unshift(c),a[w][l].sqrPercChange.unshift("N/A"!=c?c*c:"N/A")):(a[w][l].change.unshift("N/A"),a[w][l].percChange.unshift("N/A"),a[w][l].sqrPercChange.unshift("N/A")),h[l]=g,p[l]+=g}}}}};H.findDateFromTodayAsString=function(a,b,e){if("end of year"===b)return a=new Date(a.getFullYear()+e,11,31),Ua(a);if("end of month"===b)return a=new Date(a.getFullYear(),a.getMonth()+1+e,0),Ua(a);"end of day"===b&&(a=
new Date(a.getFullYear(),a.getMonth(),a.getDate()+e));return Ua(a)};H.arrayCopy=function(a){var b=[];if("undefined"!==typeof a&&"[object Array]"===Object.prototype.toString.call(a)){var e=a.length;b.length=e;for(var d=0;d<e;d++)b[d]=a[d]}return b};return H}"undefined"===typeof aoPlotlyAddOn?Ga.aoPlotlyAddOn=Ha():DEBUG&&OTHER_DEBUGS&&console.log("aoPlotlyAddOn Library already defined.")})(window);
